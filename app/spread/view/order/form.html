<form action="{:sysuri()}" data-table-id="FormTable" class="layui-form layui-card" data-auto="true" method="post">
    <div class="layui-card-body padding-left-40">

        <div class="layui-form-item label-required-prev">
            <span class="help-label"><b>选择推广应用</b>Android Parent</span>
            <select class='layui-select' name='host_id' lay-search>
                {foreach $android as $item}
                <option value='{$item.id}'>{$item.name}</option>
                {/foreach}
            </select>
        </div>

        <div class="goods-item-box">
            <div class="flex flex-wrap">
                <fieldset class="layui-bg-gray">
                    <legend><span class="layui-badge think-bg-violet">选择推广类型</span></legend>
                    <div>
                        {foreach ['优化下载'] as $k => $v}
                        {if (isset($vo.type) and $vo.type eq $k) or (empty($vo.type) and $k eq 0)}
                        <input checked name="type_id" title="{$v}" type="radio" value="{$k}">
                        {else}
                        <input name="type_id" title="{$v}" type="radio" value="{$k}">
                        {/if}{/foreach}
                    </div>
                </fieldset>
            </div>
        </div>

        <label class="layui-form-item relative block">
            <span class="help-label"><b>产品链接</b>Company Link</span>
            <input class="layui-input" name="name" placeholder="请输入产品链接" required value='{$vo.name|default=""}'>
        </label>

        <div class="layui-form-item layui-form-text">
            <label class="layui-form-label">添加关键词</label>
            <span class="color-desc margin-left-5">关键词和实际投放量以逗号隔开，关键词间以换行分割</span>
            <div class="layui-input-block">
                <textarea placeholder="请输入内容" name="desc" class="layui-textarea"></textarea>
            </div>
        </div>
        <div class="layui-form-item">
            <div class="layui-input-block">
                <button id="addKeywords" class="layui-btn">添加</button>
                <button type="reset" class="layui-btn layui-btn-primary">删除全部</button>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label"></label>
            <div class="layui-input-inline">
                <input type="text" name="vercode" placeholder="请输入关键词" autocomplete="off" class="layui-input">
            </div>
            <div class="layui-input-inline">
                <input type="text" name="vercode" placeholder="请输入投放量" autocomplete="off" class="layui-input">
            </div>
            <div class="layui-form-mid" style="padding: 0!important;">
                <button type="button" class="layui-btn layui-btn-primary" lay-on="get-vercode">删除</button>
            </div>
        </div>
        <div class="layui-form-item">
            <div class="layui-input-block">
                <button id="addKeyword" class="layui-btn">添加</button>
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label">投放量</label>
            <div class="layui-input-inline">
                <input type="text"  class="layui-input">
            </div>
            <label class="layui-form-label">单价</label>
            <div class="layui-input-inline">
                <input type="text"  class="layui-input">
            </div>
            <label class="layui-form-label">消耗</label>
            <div class="layui-input-inline">
                <input type="text"  class="layui-input">
            </div>
        </div>

        <div class="goods-item-box">
            <div class="flex flex-wrap">
                <fieldset class="layui-bg-gray">
                    <legend><span class="layui-badge think-bg-violet">是否匀速</span></legend>
                    <div>
                        {foreach ['否','是'] as $k => $v}
                        {if (isset($vo.type) and $vo.type eq $k) or (empty($vo.type) and $k eq 0)}
                        <input checked name="speed" title="{$v}" type="radio" value="{$k}">
                        {else}
                        <input name="speed" title="{$v}" type="radio" value="{$k}">
                        {/if}{/foreach}
                    </div>
                </fieldset>
            </div>
        </div>
    </div>
<!--    <div class="layui-form-item">-->
<!--        <div class="layui-inline">-->
<!--            <label class="layui-form-label datelabel">-->
<!--                <i class="layui-icon layui-icon-help lay-date-tips"></i>-->
<!--                <ol style="display:none">-->
<!--                    <li>开始时间与结束时间间隔必须大于等于1小时且小于24小时</li>-->
<!--                    <li>开始日期与结束日期必须保证在同一月份</li>-->
<!--                    <li>开始时间必须大于点击下单时间5分钟</li>-->
<!--                </ol>-->
<!--                投放时间段-->
<!--            </label>-->
<!--            <div class="layui-input-inline">-->
<!--                <input type="text" name="startDate1" class="layui-input" id="test1" placeholder="开始日期" lay-key='1'-->
<!--                       autocomplete="off">-->
<!--            </div>-->
<!--            <div class="layui-input-inline">-->
<!--                <input type="text" name="startDate2" class="layui-input" id="test2" placeholder="开始时间" lay-key="2"-->
<!--                       autocomplete="off">-->
<!--            </div>-->
<!--            <div class="layui-form-mid">至</div>-->
<!--            <div class="layui-input-inline">-->
<!--                <input type="text" name="endDate1" class="layui-input" id="test3" placeholder="结束日期" lay-key="3"-->
<!--                       autocomplete="off">-->
<!--            </div>-->
<!--            <div class="layui-input-inline">-->
<!--                <input type="text" name="endDate2" class="layui-input" id="test4" placeholder="结束时间" lay-key="4"-->
<!--                       autocomplete="off">-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--    <div class="layui-form-item">-->
<!--        <label class="layui-form-label">投放时间</label>-->
<!--        <label class="layui-input-inline">-->
<!--            <input class="layui-input" data-datetime-input name="start_at" id="test1" placeholder="请选择开始日期"-->
<!--                   value="{$get.start_at|default=''}" autocomplete="off">-->
<!--            至-->
<!--            <input class="layui-input" data-datetime-input name="start_at" placeholder="请选择投放订单时间"-->
<!--                   value="{$get.start_at|default=''}">-->
<!--        </label>-->
<!--    </div>-->

    <div class="hr-line-dashed"></div>
    {notempty name='vo.id'}<input name='id' type='hidden' value='{$vo.id}'>{/notempty}
    {notempty name='vo.company_id'}<input name='company_id' type='hidden' value='{$vo.company_id}'>{/notempty}

<!--    <div class="layui-form-item text-center">-->
<!--        <button class="layui-btn" type='submit'>保存数据</button>-->
<!--        <button class="layui-btn layui-btn-danger" data-close type='button' data-confirm="确定要取消编辑吗？">取消编辑</button>-->
<!--    </div>-->
</form>
<!--<script>-->
<!--    $(function () {-->
<!--        var appstore_id = $('.select_txt').text().split('-');-->
<!--        var api_type = $('input[name="apiType"]:checked').val();-->
<!--        appstore_id = appstore_id[appstore_id.length - 1];-->
<!--        console.log(appstore_id, api_type)-->
<!--        $('.asoSelect1').hide();-->
<!--        $('.asoSelect2').hide();-->
<!--        $('.asoSelect3').hide();-->
<!--        if (appstore_id && api_type) {-->
<!--            $.ajax({-->
<!--                url: '/cust/aso/getapititle',-->
<!--                data: {-->
<!--                    appstore_id: appstore_id,-->
<!--                    api_type: api_type-->
<!--                },-->
<!--                success: function (data) {-->
<!--                    var data = JSON.parse(data)-->
<!--                    console.log(data)-->
<!--                    if (data.code == 0) {-->
<!--                        $(".lay-nterfaceName").text(data.data.apiTitle)-->
<!--                        if (data.data.payType) {-->
<!--                            payType = data.data.payType;-->
<!--                            $('.asoSelect1').hide();-->
<!--                            $('.asoSelect2').hide();-->
<!--                            $('.asoSelect3').hide();-->
<!--                            $(`.asoSelect${data.data.payType}`).show();-->
<!--                        }-->
<!--                        if (data.data.less) {-->
<!--                            maxless = data.data.less;-->
<!--                            $('.newshengyu span').text(data.data.less);-->
<!--                        }-->
<!--                        if (data.data.payType == '3') {-->
<!--                            var allnum = $('.allnum span').text();-->
<!--                            let maxless = $('.newshengyu span').text();-->
<!--                            if (Number(allnum) > Number(maxless)) {-->
<!--                                $(".ablesubmit").hide();-->
<!--                                $(".uablesubmit").show();-->
<!--                                $(".noresource").show();-->
<!--                                $(".nowrite").hide();-->
<!--                                // $(".noname,.nomoney,.nowrite").show();-->
<!--                            } else {-->
<!--                                $(".ablesubmit").show();-->
<!--                                $(".uablesubmit").hide();-->
<!--                                $(".noresource").hide();-->
<!--                                $(".noname,.nomoney,.nowrite").hide();-->
<!--                            }-->
<!--                        }-->

<!--                    }-->

<!--                }-->
<!--            })-->
<!--        }-->
<!--    })-->
<!--    //判断是否是复制计划-->
<!--    var isnocopy = location.href.indexOf('aso_id') != -1;-->
<!--    console.log(isnocopy, location.href)-->
<!--    //判断提交订单是否可点击-->
<!--    if (isnocopy) {-->
<!--        $(".ablesubmit").show();-->
<!--        $(".uablesubmit").hide();-->
<!--    }-->
<!--    //判断是否ios12的排名可编辑-->
<!--    var edit_ios12 = $("#edit_ios12").val();-->
<!--    if (edit_ios12 == "1") {-->
<!--        edit_ios12 = true-->
<!--    } else {-->
<!--        edit_ios12 = false-->
<!--    }-->
<!--    //关键词保存的数组-->
<!--    var word_added_table = [];-->
<!--    if (isnocopy) {-->
<!--        var wordlength1 = $(".lay-keyword-ipt").length;-->
<!--        for (var i = 0; i < wordlength1; i++) {-->
<!--            word_added_table.push($(".lay-keyword-ipt").eq(i).val())-->
<!--        }-->
<!--    }-->

<!--    var table_trigger = 0;-->
<!--    var timer = '';-->
<!--    //全选标记-->
<!--    var kwdspeedall = "";-->

<!--    //时间筛选标记-->
<!--    var timeScreen = $('input[name="timeScreen"]:checked').val();-->
<!--    if (timeScreen == 1) {-->
<!--        $(".kwdtime,.lay-starttime,.lay-endtime").show();-->
<!--        $(".lay-select-launchtime").hide();-->
<!--    }-->

<!--    //推广应用选择框选中获取的值-->
<!--    var id = "";-->
<!--    var appstore_id = "";-->
<!--    var price;-->
<!--    var tejia;-->
<!--    var iosnum;-->
<!--    var all = [0, 0, 0, 0, 0, 0, 0, 0, 0];-->
<!--    var btype = -1;-->
<!--    var has_api;-->
<!--    var payType;-->
<!--    if (isnocopy) {-->
<!--        btype = $('input[name="apiType"]:checked').val()-->
<!--        all = $('[data-selected="1"]').data('valuearr').split(",");-->
<!--        console.log(all)-->
<!--        id = all[0];-->
<!--        appstore_id = all[1];-->
<!--        price = all[2];-->
<!--        tejia = all[3];-->
<!--        all[4] = all[4] || 0;-->
<!--        all[7] = all[7] || 0;-->
<!--        if (btype == -1 || btype == 0) {-->
<!--            $('#tfdj').text(all[4]);-->
<!--        } else if (btype == 1) {-->
<!--            $('#tfdj').text(all[5]);-->
<!--        } else {-->
<!--            $('#tfdj').text(all[6]);-->
<!--        }-->
<!--        $('#lcdj').text(all[7]);-->
<!--        iosnum = all[8];-->
<!--        has_api = all[9];-->
<!--        if (price == 0) {-->
<!--            $(".shengyu i").text("免费应用包剩余：")-->
<!--        } else {-->
<!--            $(".shengyu i").text("收费应用包剩余：")-->
<!--        }-->
<!--        if (tejia == 1) {-->
<!--            if ($(".spec18").val()) {-->
<!--                $(".shengyu span").text($(".spec18").val())-->
<!--            }-->
<!--        } else if (price == 0 && btype != 2) {-->
<!--            if ($(".freeAct").val()) {-->
<!--                $(".shengyu span").text($(".freeAct").val())-->
<!--            }-->
<!--        } else if (price == 0 && btype == 2) {-->
<!--            if ($(".freeReg").val()) {-->
<!--                $(".shengyu span").text($(".freeReg").val())-->
<!--            }-->
<!--        } else if (price != 0 && btype != 2) {-->
<!--            if ($(".chargeAct").val()) {-->
<!--                $(".shengyu span").text($(".chargeAct").val())-->
<!--            }-->
<!--        } else if (price != 0 && btype == 2) {-->
<!--            if ($(".chargeReg").val()) {-->
<!--                $(".shengyu span").text($(".chargeReg").val())-->
<!--            }-->
<!--        }-->
<!--    }-->

<!--    //计算计划消耗-->
<!--    //搜索优化下：当前计划消耗-->
<!--    var dqtfzl_one = 0;-->
<!--    var dqlczl_one = 0;-->
<!--    var dqAll_one = 0;-->
<!--    //直接下载：当前计划消耗-->
<!--    var dqtfzl_two = 0;-->
<!--    var dqlczl_two = 0;-->
<!--    var dqAll_two = 0;-->
<!--    if (isnocopy) {-->
<!--        if ($('input[name="downType"]:checked').val() != "1") {-->
<!--            dqtfzl_one = Number($(".allnum span").text());-->
<!--            dqlczl_one = Number($(".allnum span").text()) * ($('.content-one .lay-input-hide').length);-->
<!--            $('.content-one .lay-go-purchase span').text(dqlczl_one);-->
<!--            dqAll_one = (dqtfzl_one * Number($('#tfdj').text()) + dqlczl_one * Number($('#lcdj').text())).toFixed(2);-->
<!--            $('.ssyh').text('¥' + dqAll_one)-->

<!--            //判断余额/资源包是否充足-->
<!--            if ($("#is_yue").val() == 1) {-->

<!--                var useryue = Number($("#useryue").data("useryue"));-->
<!--                if (useryue < Number(dqAll_one)) {-->
<!--                    //提交下单按钮不可点击-->
<!--                    $(".ablesubmit").hide();-->
<!--                    $(".uablesubmit").show();-->
<!--                    $(".nomoney").show();-->
<!--                    $(".noname,.noresource,.nowrite").hide();-->
<!--                }-->
<!--                if (payType == '3') {-->
<!--                    var allnum = $('.allnum span').text();-->
<!--                    let maxless = $('.newshengyu span').text();-->
<!--                    if (Number(allnum) > Number(maxless)) {-->
<!--                        $(".ablesubmit").hide();-->
<!--                        $(".uablesubmit").show();-->
<!--                        $(".noresource").show();-->
<!--                        $(".nowrite").hide();-->
<!--                        // $(".noname,.nomoney,.nowrite").show();-->
<!--                    } else {-->
<!--                        $(".ablesubmit").show();-->
<!--                        $(".uablesubmit").hide();-->
<!--                        $(".noresource").hide();-->
<!--                        $(".noname,.nomoney,.nowrite").hide();-->
<!--                    }-->
<!--                }-->
<!--            } else {-->
<!--                var ziyuanbao_yu = Number($(".shengyu span").text());-->
<!--                var toufang_zong = Number($(".dq_all span").text());-->
<!--                var liucun_yu = Number($(".liucun_yu").text());-->
<!--                var liucun_zong = Number($(".word_liucun span").text());-->
<!--                if (ziyuanbao_yu < toufang_zong || liucun_yu < liucun_zong) {-->
<!--                    //提交下单按钮不可点击-->
<!--                    $(".ablesubmit").hide();-->
<!--                    $(".uablesubmit").show();-->
<!--                    $(".noresource").show();-->
<!--                    $(".noname,.nomoney,.nowrite").hide();-->
<!--                }-->
<!--                if (payType == '3') {-->
<!--                    var allnum = $('.allnum span').text();-->
<!--                    let maxless = $('.newshengyu span').text();-->
<!--                    if (Number(allnum) > Number(maxless)) {-->
<!--                        $(".ablesubmit").hide();-->
<!--                        $(".uablesubmit").show();-->
<!--                        $(".noresource").show();-->
<!--                        $(".noname,.nomoney,.nowrite").show();-->
<!--                    } else {-->
<!--                        $(".ablesubmit").show();-->
<!--                        $(".uablesubmit").hide();-->
<!--                        $(".noresource").hide();-->
<!--                        $(".noname,.nomoney,.nowrite").hide();-->
<!--                    }-->
<!--                }-->

<!--            }-->


<!--        } else {-->
<!--            dqtfzl_two = Number($("#lay-shiji-num").val());-->
<!--            dqlczl_two = Number($("#lay-shiji-num").val()) * ($('.content-two .lay-input-hide').length);-->
<!--            $('.content-two .lay-go-purchase span').text(dqlczl_two);-->
<!--            dqAll_two = (dqtfzl_two * Number($('#tfdj').text()) + dqlczl_two * Number($('#lcdj').text())).toFixed(2);-->
<!--            $('.zjxz').text('¥' + dqAll_two);-->
<!--            //判断余额/资源包是否充足-->
<!--            if ($("#is_yue").val() == 1) {-->
<!--                var useryue = Number($("#useryue").data("useryue"));-->
<!--                if (useryue < Number(dqAll_two)) {-->
<!--                    //提交下单按钮不可点击-->
<!--                    $(".ablesubmit").hide();-->
<!--                    $(".uablesubmit").show();-->
<!--                    $(".nomoney").show();-->
<!--                    $(".noname,.noresource,.nowrite").hide();-->
<!--                }-->
<!--                if (payType == '3') {-->
<!--                    var allnum = $('.allnum span').text();-->
<!--                    let maxless = $('.newshengyu span').text();-->
<!--                    if (Number(allnum) > Number(maxless)) {-->
<!--                        $(".ablesubmit").hide();-->
<!--                        $(".uablesubmit").show();-->
<!--                        $(".noresource").show();-->
<!--                        $(".nowrite").hide();-->
<!--                        // $(".noname,.nomoney,.nowrite").show();-->
<!--                    } else {-->
<!--                        $(".ablesubmit").show();-->
<!--                        $(".uablesubmit").hide();-->
<!--                        $(".noresource").hide();-->
<!--                        $(".noname,.nomoney,.nowrite").hide();-->
<!--                    }-->
<!--                }-->
<!--            } else {-->
<!--                var ziyuanbao_yu = Number($(".shengyu span").text());-->
<!--                var toufang_zong = Number($("#href_table tr .lay-shiji-num .lay-input-hide").val());-->
<!--                var liucun_yu = Number($(".liucun_yu").text());-->
<!--                var liucun_zong = Number($(".href_liucun span").text());-->
<!--                if (ziyuanbao_yu < toufang_zong || liucun_yu < liucun_zong) {-->
<!--                    //提交下单按钮不可点击-->
<!--                    $(".ablesubmit").hide();-->
<!--                    $(".uablesubmit").show();-->
<!--                    $(".noresource").show();-->
<!--                    $(".noname,.nomoney,.nowrite").hide();-->
<!--                }-->
<!--                if (payType == '3') {-->
<!--                    var allnum = $('.allnum span').text();-->
<!--                    let maxless = $('.newshengyu span').text();-->
<!--                    if (Number(allnum) > Number(maxless)) {-->
<!--                        $(".ablesubmit").hide();-->
<!--                        $(".uablesubmit").show();-->
<!--                        $(".noresource").show();-->
<!--                        $(".noname,.nomoney,.nowrite").show();-->
<!--                    } else {-->
<!--                        $(".ablesubmit").show();-->
<!--                        $(".uablesubmit").hide();-->
<!--                        $(".noresource").hide();-->
<!--                        $(".noname,.nomoney,.nowrite").hide();-->
<!--                    }-->
<!--                }-->
<!--            }-->

<!--        }-->
<!--    }-->

<!--    //判断推广类型是搜索优化还是直接下载-->
<!--    if (isnocopy) {-->
<!--        if ($('input[name="downType"]:checked').val() == "1") {-->
<!--            $('.zjxz').show().siblings('span').hide();-->
<!--            $(".lay-select-timeScreen").hide();-->
<!--            $(".lay-select-keyword").hide();-->
<!--            $(".lay-add-keyword").hide();-->
<!--            $(".lay-add-keyword").removeClass("get-keyword-text");-->
<!--            $(".lay-product-link").show();-->
<!--            $(".lay-product-link").addClass("get-href-text");-->
<!--            $(".content-one").hide();-->
<!--            $(".content-one").removeClass("get-time-text");-->
<!--            $(".content-two").show();-->
<!--            $(".content-two").addClass("get-time-text");-->
<!--        }-->
<!--        var liucun = $(".lay-line-go .layui-form-radioed").children("div").text();-->
<!--        if (liucun == "不需要") {-->
<!--            $(".content-one").hide();-->
<!--            $(".content-two").hide();-->
<!--            $(".content-one").removeClass("get-time-text");-->
<!--            $(".content-two").removeClass("get-time-text");-->
<!--        }-->
<!--    }-->

<!--    //判断是否需要留存-->
<!--    var time_table_arr = [];-->
<!--    var time_table_arr_two = [];-->
<!--    if (isnocopy) {-->
<!--        if ($('input[name="remain"]:checked').val() == "1") {-->
<!--            $('.retain').show();-->
<!--            if ($('input[name="downType"]:checked').val() == "0") {-->
<!--                var length1 = $("#time_table .lay-input-hide").length;-->
<!--                for (var i = 0; i < length1; i++) {-->
<!--                    time_table_arr.push($("#time_table .lay-input-hide").eq(i).val())-->
<!--                }-->
<!--            } else {-->
<!--                var length2 = $("#time_table .lay-input-hide").length;-->
<!--                for (var i = 0; i < length2; i++) {-->
<!--                    time_table_arr_two.push($("#time_table-two .lay-input-hide").eq(i).val())-->
<!--                }-->
<!--            }-->
<!--        }-->
<!--    }-->

<!--    layui.config({-->
<!--        base: '/' //静态资源所在路径-->
<!--    }).extend({-->
<!--        index: 'lib/index' //主入口模块-->
<!--    }).use(['index', 'form', 'table', 'laydate', 'jquery', 'layer', 'upload'], function () {-->
<!--        var $ = layui.$;-->
<!--        var layer = layui.layer;-->
<!--        var laydate = layui.laydate;-->
<!--        var form = layui.form;-->
<!--        var table = layui.table;-->
<!--        var upload = layui.upload;-->
<!--        var refresh_sign = 0;-->
<!--        var repeat_request_list = [];-->
<!--        var begin_date = "";-->
<!--        var begin_time = "";-->
<!--        var end_date = "";-->
<!--        var end_time = "";-->
<!--        var minPublish = 1;-->

<!--        var defaultdate = new Date();-->
<!--        var defaultmin = defaultdate.getMinutes();-->
<!--        defaultdate.setMinutes(defaultmin + 10);-->
<!--        //投放时间段选择-->
<!--        laydate.render({-->
<!--            elem: '#test1'-->
<!--            , theme: '#1E9FFF'-->
<!--            , trigger: 'click'-->
<!--            , value: begin_date || new Date()-->
<!--            , done: function (value, date, endDate) {-->
<!--                //console.log(date);-->
<!--                var year = date.year == Number($("#test3").val().split("-")[0])-->
<!--                var month = date.month == Number($("#test3").val().split("-")[1])-->
<!--                if (!year || !month) {-->
<!--                    layer.msg("开始日期与结束日期必须保证在同一月份", {time: 2500})-->
<!--                    return false;-->
<!--                }-->
<!--                if (date.date > Number($("#test3").val().split("-")[2])) {-->
<!--                    layer.msg("开始日期必须小于结束日期", {time: 2500})-->
<!--                    return false;-->
<!--                }-->
<!--                var test2 = $("#test2").val();-->
<!--                var test3 = $("#test3").val();-->
<!--                var test4 = $("#test4").val();-->
<!--                var stime = date.year + '-' + date.month + '-' + date.date + " " + test2 + ":00"-->
<!--                var etime = test3 + ' ' + test4 + ':00';-->
<!--                var time1 = new Date(stime);-->
<!--                var time2 = new Date(etime);-->
<!--                var minus = time2.getTime() - time1.getTime();-->
<!--                if (minus < 3540000 || minus > 86340000) {-->
<!--                    layer.msg("开始时间与结束时间间隔必须大于等于1小时且小于24小时", {time: 3500})-->
<!--                }-->

<!--            }-->
<!--        });-->
<!--        laydate.render({-->
<!--            elem: '#test2'-->
<!--            , theme: '#1E9FFF'-->
<!--            , trigger: 'click'-->
<!--            , type: 'time'-->
<!--            , format: 'HH:mm'-->
<!--            , value: begin_time || defaultdate-->
<!--            , done: function (value, date, endDate) {-->
<!--                //console.log(date);-->
<!--                var test1 = $("#test1").val();-->
<!--                var test3 = $("#test3").val();-->
<!--                var test4 = $("#test4").val();-->
<!--                var stime = test1 + ' ' + date.hours + ':' + date.minutes + ':00';-->
<!--                var etime = test3 + " " + test4 + ":00"-->
<!--                var time1 = new Date(stime);-->
<!--                var time2 = new Date(etime);-->
<!--                var minus = time2.getTime() - time1.getTime();-->
<!--                if (minus < 3540000 || minus > 86340000) {-->
<!--                    layer.msg("开始时间与结束时间间隔必须大于等于1小时且小于24小时", {time: 3500})-->
<!--                }-->
<!--            }-->
<!--        });-->
<!--        laydate.render({-->
<!--            elem: '#test3'-->
<!--            , theme: '#1E9FFF'-->
<!--            , trigger: 'click'-->
<!--            , value: end_date || new Date()-->
<!--            , done: function (value, date, endDate) {-->
<!--                //console.log(date);-->
<!--                var year = date.year == Number($("#test1").val().split("-")[0])-->
<!--                var month = date.month == Number($("#test1").val().split("-")[1])-->
<!--                if (!year || !month) {-->
<!--                    layer.msg("开始日期与结束日期必须保证在同一月份", {time: 2500})-->
<!--                    return false;-->
<!--                }-->
<!--                if (date.date < Number($("#test1").val().split("-")[2])) {-->
<!--                    layer.msg("结束日期必须大于开始日期", {time: 2500})-->
<!--                    return false;-->
<!--                }-->
<!--                var test1 = $("#test1").val();-->
<!--                var test2 = $("#test2").val();-->
<!--                var test4 = $("#test4").val();-->
<!--                var stime = test1 + " " + test2 + ":00"-->
<!--                var etime = date.year + '-' + date.month + '-' + date.date + ' ' + test4 + ':00';-->
<!--                var time1 = new Date(stime);-->
<!--                var time2 = new Date(etime);-->
<!--                var minus = time2.getTime() - time1.getTime();-->
<!--                if (minus < 3540000 || minus > 86340000) {-->
<!--                    layer.msg("开始时间与结束时间间隔必须大于等于1小时且小于24小时", {time: 3500})-->
<!--                }-->

<!--            }-->
<!--        });-->
<!--        laydate.render({-->
<!--            elem: '#test4'-->
<!--            , theme: '#1E9FFF'-->
<!--            , trigger: 'click'-->
<!--            , type: 'time'-->
<!--            , format: 'HH:mm'-->
<!--            , value: end_time || '23:59'-->
<!--            , done: function (value, date, endDate) {-->
<!--                //console.log(date);-->
<!--                var test1 = $("#test1").val();-->
<!--                var test2 = $("#test2").val();-->
<!--                var test3 = $("#test3").val();-->
<!--                var stime = test1 + " " + test2 + ":00"-->
<!--                var etime = test3 + ' ' + date.hours + ':' + date.minutes + ':00';-->
<!--                var time1 = new Date(stime);-->
<!--                var time2 = new Date(etime);-->
<!--                var minus = time2.getTime() - time1.getTime();-->
<!--                if (minus < 3540000 || minus > 86340000) {-->
<!--                    layer.msg("开始时间与结束时间间隔必须大于等于1小时且小于24小时", {time: 3500})-->
<!--                }-->
<!--            }-->
<!--        });-->
<!--        //应用上线时间-->
<!--        laydate.render({-->
<!--            elem: '#onlineDate'-->
<!--            , theme: '#1E9FFF'-->
<!--            , trigger: 'click'-->
<!--            , done: function (value, date, endDate) {-->
<!--                //console.log(date);-->
<!--            }-->
<!--        });-->
<!--        laydate.render({-->
<!--            elem: '#onlineTime'-->
<!--            , theme: '#1E9FFF'-->
<!--            , trigger: 'click'-->
<!--            , type: 'time'-->
<!--            , format: 'HH:mm'-->
<!--            , done: function (value, date, endDate) {-->
<!--                //console.log(date);-->
<!--            }-->
<!--        });-->
<!--        //投放日期的提示显示隐藏-->
<!--        $(".lay-date-tips").mouseenter(function () {-->
<!--            $(this).next().show();-->
<!--        })-->
<!--        $(".lay-date-tips").mouseleave(function () {-->
<!--            $(this).next().hide();-->
<!--        })-->
<!--        //是否应用预定选择-->
<!--        form.on('radio(is_reserve)', function (data) {-->
<!--            //console.log(data.value);-->
<!--            if (data.value == 1) {-->
<!--                $(".lay-select-onlinedatetime,.jtexample").show();-->
<!--            } else {-->
<!--                $(".lay-select-onlinedatetime,.jtexample").hide();-->
<!--            }-->
<!--        });-->
<!--        //时间筛选选择-->
<!--        form.on('radio(timeScreen)', function (data) {-->
<!--            //console.log(data.value);-->
<!--            timeScreen = data.value;-->
<!--            if (timeScreen == 1) {-->
<!--                $(".kwdtime,.lay-starttime,.lay-endtime").show();-->
<!--                $(".lay-select-launchtime").hide();-->
<!--            } else {-->
<!--                $(".kwdtime,.lay-starttime,.lay-endtime").hide();-->
<!--                $(".lay-select-launchtime").show();-->
<!--            }-->
<!--        });-->

<!--        //接口名称请求的封装-->
<!--        function interfaceName(appstore_id, api_type) {-->
<!--            if ($("[name='is_local_qc']:checked").val() == 1) {-->
<!--                return false-->
<!--            }-->

<!--            $(".nterfaceName_show").show();-->
<!--            $.ajax({-->
<!--                url: '/cust/aso/getapititle',-->
<!--                data: {-->
<!--                    appstore_id: appstore_id,-->
<!--                    api_type: api_type-->
<!--                },-->
<!--                success: function (data) {-->
<!--                    var data = JSON.parse(data)-->
<!--                    if (data.code == 0) {-->
<!--                        $(".lay-nterfaceName").text(data.data.apiTitle)-->
<!--                        if (data.data.payType) {-->
<!--                            payType = data.data.payType;-->
<!--                            $('.asoSelect1').hide();-->
<!--                            $('.asoSelect2').hide();-->
<!--                            $('.asoSelect3').hide();-->
<!--                            $(`.asoSelect${data.data.payType}`).show();-->
<!--                        }-->
<!--                        if (data.data.less) {-->
<!--                            maxless = data.data.less;-->
<!--                            $('.newshengyu span').text(data.data.less);-->
<!--                        }-->

<!--                        if (data.data.payType == '3') {-->
<!--                            var allnum = $('.allnum span').text();-->
<!--                            let maxless = $('.newshengyu span').text();-->
<!--                            if (Number(allnum) > Number(maxless)) {-->
<!--                                $(".ablesubmit").hide();-->
<!--                                $(".uablesubmit").show();-->
<!--                                $(".noresource").show();-->
<!--                                $(".nowrite").hide();-->
<!--                                // $(".noname,.nomoney,.nowrite").show();-->
<!--                            } else {-->
<!--                                $(".ablesubmit").show();-->
<!--                                $(".uablesubmit").hide();-->
<!--                                $(".noresource").hide();-->
<!--                                $(".noname,.nomoney,.nowrite").hide();-->
<!--                            }-->
<!--                        }-->

<!--                    }-->
<!--                }-->
<!--            })-->
<!--        }-->

<!--        //选择推广应用选择框选择事件-->
<!--        var dropApp = [];-->
<!--        var tmp = {-->
<!--            name: '家加按摩-上门按摩同城约单服务平台',-->
<!--            id: '1557184737',-->
<!--            logo: 'https://is3-ssl.mzstatic.com/image/thumb/Purple122/v4/5c/67/02/5c6702fc-4835-d844-e13c-6ba3586357ad/AppIcon-1x_U007emarketing-0-5-0-85-220.png/100x100bb.jpg',-->
<!--            valuearr: '17432775,1557184737,0,0,2.50,2.50,3.50,0.50,2,0'-->
<!--        }-->
<!--        dropApp.push(tmp);-->
<!--        dropApp = $.map(dropApp, function (team) {-->
<!--            return {value: team.name + '-' + team.id, id: team.id, logo: team.logo, valuearr: team.valuearr};-->
<!--        });-->
<!--        $('.ivu-dropdown-rel').click(function () {-->
<!--            $('.ivu-select-dropdown').toggleClass('hidden');-->
<!--            $('.ivu-dropdown-menu').removeClass('hidden');-->
<!--        });-->
<!--        $("#autocomplete").devbridgeAutocomplete({-->
<!--            lookup: dropApp,-->
<!--            minChars: 1,-->
<!--            onSelect: function (suggestion) {-->
<!--                $('.ivu-select-dropdown').addClass('hidden');-->
<!--                $('.select_txt').text(suggestion.value);-->
<!--                $('.ivu-input').val('');-->
<!--                var arr = suggestion.valuearr.split(",");-->
<!--                getdata(arr);-->
<!--            }-->
<!--        });-->
<!--        $('.ivu-dropdown-item').click(function () {-->
<!--            all = $(this).data('valuearr').split(",");-->
<!--            getdata(all);-->
<!--            $('.ivu-select-dropdown').addClass('hidden');-->
<!--            var text = $(this).find('.appname').text() + '-' + $(this).find('.appid').text();-->
<!--            $('.select_txt').text(text);-->
<!--            $('.ivu-input').val('');-->
<!--        });-->

<!--        function getdata(arr) {-->
<!--            //提交下单按钮不可点击-->
<!--            $(".ablesubmit").hide();-->
<!--            $(".uablesubmit").show();-->
<!--            $(".nowrite").show();-->
<!--            $(".noname,.noresource,.nomoney").hide();-->
<!--            //清空填好的tab里面关键词-->
<!--            if (word_added_table.length != 0) {-->
<!--                word_added_table = []-->
<!--                $('#keyword_table').empty()-->
<!--                $("#time_table tr").remove();-->
<!--                $(".allnum span").text("")-->
<!--                $('.dqlctfl span').text("");-->
<!--                $(".lay-excel").empty()-->
<!--                $(".lay-excel").append('<input type="file" class="excel-file"/>')-->
<!--                $(".lay-refresh").hide()-->
<!--                time_table_arr = [];-->
<!--                time_table_arr_two = [];-->
<!--                dqtfzl_one = dqlczl_one = dqAll_one = 0;-->
<!--                dqtfzl_two = dqlczl_two = dqAll_two = 0;-->
<!--                $('.ssyh').text(0);-->
<!--                $('.zjxz').text(0);-->
<!--            }-->
<!--            all = arr;-->
<!--            //console.log(all);-->
<!--            id = all[0];-->
<!--            appstore_id = all[1];-->
<!--            price = all[2];-->
<!--            tejia = all[3];-->
<!--            all[4] = all[4] || 0;-->
<!--            all[7] = all[7] || 0;-->
<!--            iosnum = all[8];-->
<!--            has_api = all[9];-->
<!--            if (iosnum == "0") {-->
<!--                // $(".th_ios11").show();-->
<!--                $(".th_ios12").show();-->
<!--            } else if (iosnum == "1") {-->
<!--                // $(".th_ios11").show();-->
<!--                $(".th_ios12").hide();-->
<!--            } else {-->
<!--                // $(".th_ios11").hide();-->
<!--                $(".th_ios12").show();-->
<!--            }-->
<!--            $('#tfdj').text(((Number(all[4]) * 100 + Number(price)) / 100).toFixed(2));//需加上应用单价-->
<!--            $('#lcdj').text(all[7]);-->
<!--            if (!appstore_id) {-->
<!--                return false;-->
<!--            }-->
<!--            if (price == 0) {-->
<!--                $(".xiaohao").text("消耗资源包：免费应用下载")-->
<!--                $(".shengyu i").text("免费应用包剩余：")-->
<!--            } else {-->
<!--                $(".xiaohao").text("消耗资源包：付费应用下载")-->
<!--                $(".shengyu i").text("收费应用包剩余：")-->
<!--            }-->
<!--            if (tejia == 1) {-->
<!--                if ($(".spec18").val()) {-->
<!--                    $(".shengyu span").text($(".spec18").val())-->
<!--                }-->
<!--            } else if (price == 0 && btype != 2) {-->
<!--                if ($(".freeAct").val()) {-->
<!--                    $(".shengyu span").text($(".freeAct").val())-->
<!--                }-->
<!--            } else if (price == 0 && btype == 2) {-->
<!--                if ($(".freeReg").val()) {-->
<!--                    $(".shengyu span").text($(".freeReg").val())-->
<!--                }-->
<!--            } else if (price != 0 && btype != 2) {-->
<!--                if ($(".chargeAct").val()) {-->
<!--                    $(".shengyu span").text($(".chargeAct").val())-->
<!--                }-->
<!--            } else if (price != 0 && btype == 2) {-->
<!--                if ($(".chargeReg").val()) {-->
<!--                    $(".shengyu span").text($(".chargeReg").val())-->
<!--                }-->
<!--            }-->

<!--            var api_type = $("[name='apiType']:checked").val();-->
<!--            // if(api_type != "-1"){-->
<!--            // }-->
<!--            interfaceName(appstore_id, api_type)-->

<!--        }-->

<!--        //首次进来没有实名认证时出现的弹窗-->
<!--        var is_realname = $('#is_realname').val();-->
<!--        if (is_realname != 1) {-->
<!--            $(".ablesubmit").hide();-->
<!--            $(".uablesubmit").show();-->
<!--            $(".noname").show();-->
<!--            $(".nomoney,.noresource,.nowrite").hide();-->
<!--        }-->

<!--        //上传excel表格调用-->
<!--        $(document).on("change", '.excel-file', function () {-->
<!--            readExcel(this)-->
<!--        })-->

<!--        //上传excel表格函数封装-->
<!--        function readExcel(obj) {-->
<!--            var files = obj.files;-->
<!--            var fileReader = new FileReader();-->
<!--            fileReader.onload = function (ev) {-->
<!--                try {-->
<!--                    var data = ev.target.result,-->
<!--                        workbook = XLSX.read(data, {-->
<!--                            type: 'binary'-->
<!--                        }), // 以二进制流方式读取得到整份excel表格对象-->
<!--                        persons = []; // 存储获取到的数据-->
<!--                } catch (e) {-->
<!--                    layer.msg('文件类型不正确，请重新选择', {time: 1500});-->
<!--                    $(".lay-excel").empty()-->
<!--                    $(".lay-excel").append('<input type="file" class="excel-file"/>')-->
<!--                    return;-->
<!--                }-->

<!--                // 表格的表格范围，可用于判断表头是否数量是否正确-->
<!--                var fromTo = '';-->
<!--                // 遍历每张表读取-->
<!--                for (var sheet in workbook.Sheets) {-->
<!--                    if (workbook.Sheets.hasOwnProperty(sheet)) {-->
<!--                        fromTo = workbook.Sheets[sheet]['!ref'];-->
<!--                        //console.log(fromTo);-->
<!--                        persons = persons.concat(XLSX.utils.sheet_to_json(workbook.Sheets[sheet]));-->
<!--                        // break; // 如果只取第一张表，就取消注释这行-->
<!--                    }-->
<!--                }-->

<!--                //console.log(persons);-->

<!--                if (persons.length == 0) {-->
<!--                    layer.msg("文件内容为空，请重新选择", {time: 1500});-->
<!--                    $(".lay-excel").empty()-->
<!--                    $(".lay-excel").append('<input type="file" class="excel-file"/>')-->
<!--                    return false;-->
<!--                }-->
<!--                for (var i = 0; i < persons.length; i++) {-->
<!--                    if (!persons[i]["关键词"] || !persons[i]["投放量"]) {-->
<!--                        layer.msg("请规范填写 '关键词' 和 '投放量'", {time: 2000})-->
<!--                        $(".lay-excel").empty()-->
<!--                        $(".lay-excel").append('<input type="file" class="excel-file"/>')-->
<!--                        return false;-->
<!--                    }-->
<!--                }-->
<!--                for (var i = 0; i < persons.length; i++) {-->
<!--                    for (var j = i + 1; j < persons.length; j++) {-->
<!--                        if (persons[i]["关键词"] == persons[j]["关键词"]) {-->
<!--                            layer.msg("关键词重复，请修改之后重新选择", {time: 2000})-->
<!--                            $(".lay-excel").empty()-->
<!--                            $(".lay-excel").append('<input type="file" class="excel-file"/>')-->
<!--                            return false;-->
<!--                        }-->
<!--                    }-->

<!--                }-->

<!--                if (word_added_table.length != 0) {-->
<!--                    for (var x = 0; x < persons.length; x++) {-->
<!--                        for (var y = 0; y < word_added_table.length; y++) {-->
<!--                            if (persons[x]["关键词"] == word_added_table[y]) {-->
<!--                                layer.msg("有的关键词已添加，请修改之后重新选择", {time: 2000})-->
<!--                                $(".lay-excel").empty()-->
<!--                                $(".lay-excel").append('<input type="file" class="excel-file"/>')-->
<!--                                return false;-->
<!--                            }-->
<!--                        }-->
<!--                    }-->
<!--                }-->

<!--                var aready_length = $(".lay-keyword-ipt").length-->
<!--                var creat_length = word_added_table.length-->
<!--                var excel_length = persons.length-->
<!--                var al_length = Number(aready_length) + Number(creat_length) + Number(excel_length)-->
<!--                if (al_length > 300) {-->
<!--                    layer.msg("总提交的关键词数量不能超过300")-->
<!--                    $(".lay-excel").empty()-->
<!--                    $(".lay-excel").append('<input type="file" class="excel-file"/>')-->
<!--                    return false;-->
<!--                }-->

<!--                if (!appstore_id) {-->
<!--                    layer.msg("请先选择应用", {time: 1500})-->
<!--                    $(".lay-excel").empty()-->
<!--                    $(".lay-excel").append('<input type="file" class="excel-file"/>')-->
<!--                    return false;-->
<!--                }-->
<!--                var submit_arr = [];-->
<!--                var laystarttime_arr = [];-->
<!--                var layendtime_arr = [];-->
<!--                var reg = /^[0-9]{1,2}\/[0-9]{1,2}\/[0-9]{2}\s+[0-9]{1,2}:[0-9]{2}$/;-->
<!--                for (var i = 0; i < persons.length; i++) {-->
<!--                    submit_arr.push({'word': persons[i]["关键词"], 'num': persons[i]["投放量"]})-->
<!--                    if (!persons[i]["开始时间"]) {-->
<!--                        laystarttime_arr.push("")-->
<!--                    } else {-->
<!--                        if (!reg.test(persons[i]["开始时间"])) {-->
<!--                            layer.msg("开始时间格式不正确", {time: 1500})-->
<!--                            return false;-->
<!--                        }-->
<!--                        var startarr1 = persons[i]["开始时间"].split(" ");-->
<!--                        var startarr2 = startarr1[0].split("/");-->
<!--                        var startstr = '20' + startarr2[2] + '-' + startarr2[0] + '-' + startarr2[1] + ' ' + startarr1[1];-->
<!--                        laystarttime_arr.push(startstr)-->
<!--                    }-->

<!--                    if (!persons[i]["结束时间"]) {-->
<!--                        layendtime_arr.push("")-->
<!--                    } else {-->
<!--                        if (!reg.test(persons[i]["结束时间"])) {-->
<!--                            layer.msg("结束时间格式不正确", {time: 1500})-->
<!--                            return false;-->
<!--                        }-->
<!--                        var endarr1 = persons[i]["结束时间"].split(" ");-->
<!--                        var endarr2 = endarr1[0].split("/");-->
<!--                        var endstr = '20' + endarr2[2] + '-' + endarr2[0] + '-' + endarr2[1] + ' ' + endarr1[1];-->
<!--                        layendtime_arr.push(endstr)-->
<!--                    }-->
<!--                }-->
<!--                //console.log(laystarttime_arr);-->
<!--                //console.log(layendtime_arr);-->
<!--                //console.log(submit_arr)-->

<!--                //提交词-->
<!--                // word_register_action(submit_arr)-->

<!--                //excel提交的生成table-->
<!--                create_table_excel(submit_arr, laystarttime_arr, layendtime_arr)-->

<!--                //ios12情况下 直接请求接口-->
<!--                var keywordios12 = [];-->
<!--                $('#keyword_table .lay-keyword-ipt').each(function () {-->
<!--                    var value = $(this).val()-->
<!--                    keywordios12.push(value)-->

<!--                })-->
<!--                word_search_action_ios12(appstore_id, keywordios12)-->

<!--                //ios11下搜索-->
<!--                // monitor(appstore_id)-->

<!--                //计算总投放量-->
<!--                var numb_length = $("#keyword_table .lay-shiji-num .lay-input-show").length-->
<!--                if (numb_length) {-->
<!--                    var launch_num_arr = [];-->
<!--                    for (var i = 0; i < numb_length; i++) {-->
<!--                        if ($("#keyword_table .lay-shiji-num .lay-input-show").eq(i).val() != "") {-->
<!--                            launch_num_arr.push($("#keyword_table .lay-shiji-num .lay-input-show").eq(i).val())-->
<!--                        }-->
<!--                    }-->
<!--                    var sum = eval(launch_num_arr.join("+"))-->
<!--                    $(".allnum span").text(sum)-->
<!--                }-->
<!--                var time_tou_length = $("#time_table .tounum").length-->
<!--                for (var j = 0; j < time_tou_length; j++) {-->
<!--                    $("#time_table .tounum").eq(j).text(sum)-->
<!--                }-->
<!--                dqtfzl_one = sum;-->
<!--                dqlczl_one = sum * ($('.content-one .lay-input-hide').length);-->
<!--                $('.content-one .lay-go-purchase span').text(dqlczl_one);-->
<!--                dqAll_one = (dqtfzl_one * Number($('#tfdj').text()) + dqlczl_one * Number($('#lcdj').text())).toFixed(2);-->
<!--                $('.ssyh').text('¥' + dqAll_one);-->
<!--                //判断余额/资源包是否充足-->
<!--                if ($("#is_yue").val() == 1) {-->
<!--                    var useryue = Number($("#useryue").data("useryue"));-->
<!--                    if (useryue < Number(dqAll_one)) {-->
<!--                        //提交下单按钮不可点击-->
<!--                        $(".ablesubmit").hide();-->
<!--                        $(".uablesubmit").show();-->
<!--                        $(".nomoney").show();-->
<!--                        $(".noname,.noresource,.nowrite").hide();-->
<!--                    }-->
<!--                    if (payType == '3') {-->
<!--                        var allnum = $('.allnum span').text();-->
<!--                        let maxless = $('.newshengyu span').text();-->
<!--                        if (Number(allnum) > Number(maxless)) {-->
<!--                            $(".ablesubmit").hide();-->
<!--                            $(".uablesubmit").show();-->
<!--                            $(".noresource").show();-->
<!--                            $(".nowrite").hide();-->
<!--                            // $(".noname,.nomoney,.nowrite").show();-->
<!--                        } else {-->
<!--                            $(".ablesubmit").show();-->
<!--                            $(".uablesubmit").hide();-->
<!--                            $(".noresource").hide();-->
<!--                            $(".noname,.nomoney,.nowrite").hide();-->
<!--                        }-->
<!--                    }-->
<!--                } else {-->
<!--                    var ziyuanbao_yu = Number($(".shengyu span").text());-->
<!--                    var toufang_zong = Number($(".dq_all span").text());-->
<!--                    var liucun_yu = Number($(".liucun_yu").text());-->
<!--                    var liucun_zong = Number($(".word_liucun span").text());-->
<!--                    if (ziyuanbao_yu < toufang_zong || liucun_yu < liucun_zong) {-->
<!--                        //提交下单按钮不可点击-->
<!--                        $(".ablesubmit").hide();-->
<!--                        $(".uablesubmit").show();-->
<!--                        $(".noresource").show();-->
<!--                        $(".noname,.nomoney,.nowrite").hide();-->
<!--                    }-->

<!--                }-->
<!--                if (payType == '3') {-->
<!--                    var allnum = $('.allnum span').text();-->
<!--                    let maxless = $('.newshengyu span').text();-->
<!--                    if (Number(allnum) > Number(maxless)) {-->
<!--                        $(".ablesubmit").hide();-->
<!--                        $(".uablesubmit").show();-->
<!--                        $(".noresource").show();-->
<!--                        $(".noname,.nomoney,.nowrite").show();-->
<!--                    } else {-->
<!--                        $(".ablesubmit").show();-->
<!--                        $(".uablesubmit").hide();-->
<!--                        $(".noresource").hide();-->
<!--                        $(".noname,.nomoney,.nowrite").hide();-->
<!--                    }-->
<!--                }-->
<!--                //判断信息是否填写完-->
<!--                var apiType = $('input[name="apiType"]:checked').val();-->
<!--                if (!!apiType) {-->
<!--                    $(".ablesubmit").show();-->
<!--                    $(".uablesubmit").hide();-->
<!--                }-->

<!--            };-->
<!--            // 以二进制方式打开文件-->
<!--            if (files[0]) {-->
<!--                fileReader.readAsBinaryString(files[0]);-->
<!--            }-->


<!--        }-->

<!--        /* 触发弹层 */-->
<!--        var active = {-->
<!--            tiptime: function () {-->
<!--                layer.tips('指试玩完成后的第几天，当天不算在内', this, {-->
<!--                    tips: [2, '#1E9FFF'],-->
<!--                    //time:2000-->
<!--                });-->
<!--            },-->
<!--            tipwrite: function () {-->
<!--                layer.tips('请先确认关键词和实际投放量', this, {-->
<!--                    tips: [2, '#1E9FFF'],-->
<!--                    //time:2000-->
<!--                });-->
<!--            },-->
<!--            tipwritetwo: function () {-->
<!--                layer.tips('请先确认链接和投放量', this, {-->
<!--                    tips: [2, '#1E9FFF'],-->
<!--                    //time:2000-->
<!--                });-->
<!--            }-->
<!--        }-->
<!--        $("body").delegate(".layui-icon-help", "mouseover", function () {-->
<!--            var type = $(this).data('type');-->
<!--            active[type] && active[type].call(this);-->
<!--        });-->

<!--        //选择推广类型的切换-->
<!--        var tuiorxia = 1;-->
<!--        $(".lay-select-spread-type .layui-form-radio").click(function () {-->
<!--            var index = $(this).index();-->
<!--            tuiorxia = index;-->
<!--            if (index == 1) {-->
<!--                $('.ssyh').show().siblings('span').hide();-->
<!--                $(".lay-product-link").hide();-->
<!--                $(".lay-jump-link").show();-->
<!--                $(".lay-product-link").removeClass("get-href-text");-->
<!--                $(".lay-select-timeScreen").show();-->
<!--                $(".lay-select-keyword").show();-->
<!--                $(".lay-add-keyword").show();-->
<!--                $(".lay-add-keyword").addClass("get-keyword-text");-->
<!--                $(".content-one").show();-->
<!--                $(".content-one").addClass("get-time-text");-->
<!--                $(".content-two").hide();-->
<!--                $(".content-two").removeClass("get-time-text");-->
<!--                if (timeScreen == 0) {-->
<!--                    $(".lay-select-launchtime").show();-->
<!--                } else {-->
<!--                    $(".lay-select-launchtime").hide();-->
<!--                }-->
<!--            } else {-->
<!--                $('.zjxz').show().siblings('span').hide();-->
<!--                $(".lay-select-timeScreen").hide();-->
<!--                $(".lay-select-keyword").hide();-->
<!--                $(".lay-jump-link").hide();-->
<!--                $(".lay-add-keyword").hide();-->
<!--                $(".lay-add-keyword").removeClass("get-keyword-text");-->
<!--                $(".lay-product-link").show();-->
<!--                $(".lay-product-link").addClass("get-href-text");-->
<!--                $(".content-one").hide();-->
<!--                $(".content-one").removeClass("get-time-text");-->
<!--                $(".content-two").show();-->
<!--                $(".content-two").addClass("get-time-text");-->
<!--                $(".lay-select-launchtime").show();-->
<!--            }-->
<!--            var liucun = $(".lay-line-go .layui-form-radioed").children("div").text();-->
<!--            if (liucun == "不需要") {-->
<!--                $(".content-one").hide();-->
<!--                $(".content-two").hide();-->
<!--                $(".content-one").removeClass("get-time-text");-->
<!--                $(".content-two").removeClass("get-time-text");-->
<!--            }-->
<!--        })-->
<!--        //选择是否需要留存的切换-->
<!--        $(".lay-line-go .layui-form-radio").click(function () {-->
<!--            var index = $(this).index();-->
<!--            var lanuch_type = $(".lay-select-spread-type .layui-form-radioed").children("div").text();-->
<!--            if (index == 3 && lanuch_type == "搜索优化") {-->
<!--                $(".content-one").show();-->
<!--                $(".content-one").addClass("get-time-text");-->
<!--                $(".content-two").hide();-->
<!--                $(".content-two").removeClass("get-time-text");-->
<!--                $(".lay-current").show();-->

<!--            } else if (index == 3 && lanuch_type == "直接下载") {-->
<!--                $(".content-one").hide();-->
<!--                $(".content-one").removeClass("get-time-text");-->
<!--                $(".content-two").show();-->
<!--                $(".content-two").addClass("get-time-text");-->
<!--                $(".lay-current").show();-->
<!--            } else {-->
<!--                $(".content-one").hide();-->
<!--                $(".content-one").removeClass("get-time-text");-->
<!--                $(".content-two").hide();-->
<!--                $(".content-two").removeClass("get-time-text");-->
<!--                $(".lay-current").hide();-->
<!--            }-->
<!--            if (index == 3) {-->
<!--                $('.retain').show();-->
<!--            } else {-->
<!--                if (tuiorxia == 1 || tuiorxia == 5) {//搜索优化-->
<!--                    time_table_arr = [];-->
<!--                    dqlczl_one = 0;-->
<!--                    $("#time_table").empty();-->
<!--                    $('.content-one .lay-go-purchase span').text('0');-->
<!--                    dqAll_one = (dqtfzl_one * Number($('#tfdj').text())).toFixed(2);-->
<!--                    $('.ssyh').text('¥' + dqAll_one);-->
<!--                } else {//直接下载-->
<!--                    time_table_arr_two = [];-->
<!--                    dqlczl_two = 0;-->
<!--                    $("#time_table-two").empty();-->
<!--                    $('.content-two .lay-go-purchase span').text('0');-->
<!--                    dqAll_two = (dqtfzl_two * Number($('#tfdj').text())).toFixed(2);-->
<!--                    $('.zjxz').text('¥' + dqAll_two);-->
<!--                }-->
<!--                $('.retain').hide();-->
<!--            }-->
<!--        })-->

<!--        //选择对接类型单选框-->
<!--        form.on('radio(butt-type)', function (data) {-->
<!--            if (!appstore_id) {-->
<!--                return false;-->
<!--            }-->
<!--            btype = data.value;-->
<!--            if (btype != "-1") {-->
<!--                interfaceName(appstore_id, btype)-->
<!--            } else {-->
<!--                interfaceName(appstore_id, btype)-->
<!--                $(".nterfaceName_show").hide()-->
<!--            }-->
<!--            price = all[2];-->
<!--            if (btype == -1 || btype == 0) {-->
<!--                $('#tfdj').text(((Number(all[4]) * 100 + Number(price)) / 100).toFixed(2));//需加上应用单价-->
<!--            } else if (btype == 1) {-->
<!--                $('#tfdj').text(((Number(all[5]) * 100 + Number(price)) / 100).toFixed(2));//需加上应用单价-->
<!--            } else {-->
<!--                $('#tfdj').text(((Number(all[6]) * 100 + Number(price)) / 100).toFixed(2));//需加上应用单价-->
<!--            }-->
<!--            $('#lcdj').text(all[7]);-->
<!--            if ($('input[name="downType"]:checked').val() != "1") {-->
<!--                dqAll_one = (dqtfzl_one * Number($('#tfdj').text()) + dqlczl_one * Number($('#lcdj').text())).toFixed(2);-->
<!--                $('.ssyh').text('¥' + dqAll_one);-->
<!--            } else {-->
<!--                dqAll_two = (dqtfzl_two * Number($('#tfdj').text()) + dqlczl_two * Number($('#lcdj').text())).toFixed(2);-->
<!--                $('.zjxz').text('¥' + dqAll_two);-->
<!--            }-->

<!--            if (tejia == 1) {-->
<!--                if ($(".spec18").val()) {-->
<!--                    $(".shengyu span").text($(".spec18").val())-->
<!--                }-->
<!--            } else if (price == 0 && btype != 2) {-->
<!--                if ($(".freeAct").val()) {-->
<!--                    $(".shengyu span").text($(".freeAct").val())-->
<!--                }-->
<!--            } else if (price == 0 && btype == 2) {-->
<!--                if ($(".freeReg").val()) {-->
<!--                    $(".shengyu span").text($(".freeReg").val())-->
<!--                }-->
<!--            } else if (price != 0 && btype != 2) {-->
<!--                if ($(".chargeAct").val()) {-->
<!--                    $(".shengyu span").text($(".chargeAct").val())-->
<!--                }-->
<!--            } else if (price != 0 && btype == 2) {-->
<!--                if ($(".chargeReg").val()) {-->
<!--                    $(".shengyu span").text($(".chargeReg").val())-->
<!--                }-->
<!--            }-->
<!--            //判断余额/资源包是否充足-->
<!--            if ($("#is_yue").val() == 1) {-->
<!--                var useryue = Number($("#useryue").data("useryue"));-->
<!--                if ($('input[name="downType"]:checked').val() != "1") {-->
<!--                    if (useryue < Number(dqAll_one)) {-->
<!--                        //提交下单按钮不可点击-->
<!--                        $(".ablesubmit").hide();-->
<!--                        $(".uablesubmit").show();-->
<!--                        $(".nomoney").show();-->
<!--                        $(".noname,.noresource,.nowrite").hide();-->
<!--                    } else {-->
<!--                        //判断提交下单是否可点击-->
<!--                        var dq_all = Number($(".dq_all span").text());-->
<!--                        var href_sum = Number($("#href_table tr .lay-shiji-num .lay-input-hide").val())-->
<!--                        if (!!dq_all || !!href_sum) {-->
<!--                            $(".ablesubmit").show();-->
<!--                            $(".uablesubmit").hide();-->
<!--                        }-->
<!--                    }-->
<!--                } else if (payType == '3') {-->
<!--                    var allnum = $('.allnum span').text();-->
<!--                    let maxless = $('.newshengyu span').text();-->
<!--                    if (Number(allnum) > Number(maxless)) {-->
<!--                        $(".ablesubmit").hide();-->
<!--                        $(".uablesubmit").show();-->
<!--                        $(".noresource").show();-->
<!--                        $(".nowrite").hide();-->
<!--                        // $(".noname,.nomoney,.nowrite").show();-->
<!--                    } else {-->
<!--                        $(".ablesubmit").show();-->
<!--                        $(".uablesubmit").hide();-->
<!--                        $(".noresource").hide();-->
<!--                        $(".noname,.nomoney,.nowrite").hide();-->
<!--                    }-->
<!--                } else {-->
<!--                    if (useryue < Number(dqAll_two)) {-->
<!--                        //提交下单按钮不可点击-->
<!--                        $(".ablesubmit").hide();-->
<!--                        $(".uablesubmit").show();-->
<!--                        $(".nomoney").show();-->
<!--                        $(".noname,.noresource,.nowrite").hide();-->
<!--                        return false;-->
<!--                    } else {-->
<!--                        //判断提交下单是否可点击-->
<!--                        var dq_all = Number($(".dq_all span").text());-->
<!--                        var href_sum = Number($("#href_table tr .lay-shiji-num .lay-input-hide").val())-->
<!--                        if (!!dq_all || !!href_sum) {-->
<!--                            $(".ablesubmit").show();-->
<!--                            $(".uablesubmit").hide();-->
<!--                        }-->
<!--                    }-->
<!--                }-->
<!--            } else {-->
<!--                if ($('input[name="downType"]:checked').val() != "1") {-->
<!--                    var ziyuanbao_yu = Number($(".shengyu span").text());-->
<!--                    var toufang_zong = Number($(".dq_all span").text());-->
<!--                    var liucun_yu = Number($(".liucun_yu").text());-->
<!--                    var liucun_zong = Number($(".word_liucun span").text());-->
<!--                    if (ziyuanbao_yu < toufang_zong || liucun_yu < liucun_zong) {-->
<!--                        //提交下单按钮不可点击-->
<!--                        $(".ablesubmit").hide();-->
<!--                        $(".uablesubmit").show();-->
<!--                        $(".noresource").show();-->
<!--                        $(".noname,.nomoney,.nowrite").hide();-->
<!--                    } else if (payType == '3') {-->
<!--                        var allnum = $('.allnum span').text();-->
<!--                        let maxless = $('.newshengyu span').text();-->
<!--                        if (Number(allnum) > Number(maxless)) {-->
<!--                            $(".ablesubmit").hide();-->
<!--                            $(".uablesubmit").show();-->
<!--                            $(".noresource").show();-->
<!--                            $(".noname,.nomoney,.nowrite").show();-->
<!--                        } else {-->
<!--                            $(".ablesubmit").show();-->
<!--                            $(".uablesubmit").hide();-->
<!--                            $(".noresource").hide();-->
<!--                            $(".noname,.nomoney,.nowrite").hide();-->
<!--                        }-->
<!--                    } else {-->
<!--                        //判断提交下单是否可点击-->
<!--                        var dq_all = Number($(".dq_all span").text());-->
<!--                        var href_sum = Number($("#href_table tr .lay-shiji-num .lay-input-hide").val())-->
<!--                        if (!!dq_all || !!href_sum) {-->
<!--                            $(".ablesubmit").show();-->
<!--                            $(".uablesubmit").hide();-->
<!--                        }-->
<!--                    }-->
<!--                } else {-->
<!--                    var ziyuanbao_yu = Number($(".shengyu span").text());-->
<!--                    var toufang_zong = Number($("#href_table tr .lay-shiji-num .lay-input-hide").val());-->
<!--                    var liucun_yu = Number($(".liucun_yu").text());-->
<!--                    var liucun_zong = Number($(".href_liucun span").text());-->
<!--                    if (ziyuanbao_yu < toufang_zong || liucun_yu < liucun_zong) {-->
<!--                        //提交下单按钮不可点击-->
<!--                        $(".ablesubmit").hide();-->
<!--                        $(".uablesubmit").show();-->
<!--                        $(".noresource").show();-->
<!--                        $(".noname,.nomoney,.nowrite").hide();-->
<!--                    } else if (payType == '3') {-->
<!--                        var allnum = $('.allnum span').text();-->
<!--                        let maxless = $('.newshengyu span').text();-->
<!--                        if (Number(allnum) > Number(maxless)) {-->
<!--                            $(".ablesubmit").hide();-->
<!--                            $(".uablesubmit").show();-->
<!--                            $(".noresource").show();-->
<!--                            $(".noname,.nomoney,.nowrite").show();-->
<!--                        } else {-->
<!--                            $(".ablesubmit").show();-->
<!--                            $(".uablesubmit").hide();-->
<!--                            $(".noresource").hide();-->
<!--                            $(".noname,.nomoney,.nowrite").hide();-->
<!--                        }-->
<!--                    } else {-->
<!--                        //判断提交下单是否可点击-->
<!--                        var dq_all = Number($(".dq_all span").text());-->
<!--                        var href_sum = Number($("#href_table tr .lay-shiji-num .lay-input-hide").val())-->
<!--                        if (!!dq_all || !!href_sum) {-->
<!--                            $(".ablesubmit").show();-->
<!--                            $(".uablesubmit").hide();-->
<!--                        }-->
<!--                    }-->

<!--                }-->

<!--            }-->

<!--        });-->
<!--        //获取token-->
<!--        var token;-->
<!--        $.ajax({-->
<!--            type: 'get',-->
<!--            async: false,-->
<!--            url: "/Common/Qiniu/getUploadToken",-->
<!--            success: function (res) {-->
<!--                res = JSON.parse(res);-->
<!--                token = res.data.token;-->
<!--            }-->
<!--        })-->
<!--        //上传图片-->
<!--        var uploadInst = upload.render({-->
<!--            elem: '.imgupload' //绑定元素-->
<!--            , url: '/Common/Qiniu/upload' //上传接口-->
<!--            , data: {token: token}-->
<!--            , size: 250-->
<!--            , done: function (res) {-->
<!--                if (res.code == 0) {-->
<!--                    var item = this.item;-->
<!--                    item.before('<div class="imgBoxAnd">'-->
<!--                        + '<input type="hidden" name="pic_url" class="lay-img-num" value="' + res.data.pic + '">'-->
<!--                        + '<img src="' + res.data.pic_src + '">'-->
<!--                        + '<i class="close layui-icon layui-icon-close-fill"></i>'-->
<!--                        + '</div>')-->
<!--                } else {-->
<!--                    layer.msg(res.msg, {time: 1500});-->
<!--                }-->
<!--            }-->
<!--        });-->
<!--        //删除图片-->
<!--        $('#order_spread').on('click', '.layui-icon-close-fill', function () {-->
<!--            $(this).parent().remove();-->
<!--        });-->
<!--        //打开查看示例-->
<!--        $('.lookexampleAnd').click(function () {-->
<!--            $(".lay-shade,.exampleboxAnd").show();-->
<!--        });-->
<!--        //关闭查看示例-->
<!--        $('.closeexample').click(function () {-->
<!--            $(".lay-shade,.exampleboxAnd").hide();-->
<!--        });-->
<!--        //?号提示-->
<!--        $(".lay-colorclass").hover(function () {-->
<!--            openMsg();-->
<!--        }, function () {-->
<!--            layer.close(subtips);-->
<!--        });-->

<!--        function openMsg(sign) {-->
<!--            subtips = layer.tips('上传图片数量建议不超过2张，图片大小不超过250kb', '.lay-colorclass', {tips: [1, '#1E9FFF'], time: 30000});-->
<!--        }-->

<!--        //选择自排重-->
<!--        form.on('radio(is_selfDischarge)', function (data) {-->
<!--            if (data.value == "1") {-->
<!--                $(".nterfaceName_show").hide();-->
<!--                $('input:radio[name=apiType]')[1].checked = true;-->
<!--                $("[name='apiType']").attr("disabled", true)-->
<!--                $("[name='apiType']").eq(1).attr("disabled", false)-->
<!--                /*if(appstore_id){-->
<!--                    interfaceName(appstore_id,0)-->
<!--                }*/-->

<!--            } else {-->
<!--                // $(".nterfaceName_show").show();-->
<!--                if (appstore_id) {-->
<!--                    interfaceName(appstore_id, 0)-->
<!--                }-->
<!--                $("[name='apiType']").attr("disabled", false)-->
<!--            }-->
<!--            form.render('radio')-->
<!--        })-->
<!--        //直接添加关键词 点击添加 添加到关键词表格-->
<!--        $(".lay-batch-add").click(function () {-->
<!--            words_add(appstore_id)-->
<!--        })-->

<!--        //实际投放量输入框失去焦点事件-->
<!--        $("body").delegate("#keyword_table .lay-shiji-num .lay-input-show", "blur", function () {-->
<!--            var length = $("#keyword_table .lay-shiji-num .lay-input-show").length-->
<!--            var launch_num_arr = [];-->
<!--            for (var i = 0; i < length; i++) {-->
<!--                if ($("#keyword_table .lay-shiji-num .lay-input-show").eq(i).val() != "") {-->
<!--                    launch_num_arr.push($("#keyword_table .lay-shiji-num .lay-input-show").eq(i).val())-->
<!--                }-->
<!--            }-->
<!--            var sum = eval(launch_num_arr.join("+"))-->
<!--            $(".allnum span").text(sum)-->
<!--            dqtfzl_one = sum;-->
<!--            dqlczl_one = sum * ($('.content-one .lay-input-hide').length);-->
<!--            dqAll_one = (dqtfzl_one * Number($('#tfdj').text()) + dqlczl_one * Number($('#lcdj').text())).toFixed(2);-->
<!--            $('.ssyh').text('¥' + dqAll_one);-->
<!--            var time_tou_length = $("#time_table .tounum").length-->
<!--            for (var j = 0; j < time_tou_length; j++) {-->
<!--                $("#time_table .tounum").eq(j).text(sum)-->
<!--            }-->
<!--            $('.content-one .lay-go-purchase span').text(sum * ($('.content-one .lay-input-hide').length));-->
<!--            //判断余额/资源包是否充足-->
<!--            if ($("#is_yue").val() == 1) {-->
<!--                var useryue = Number($("#useryue").data("useryue"));-->
<!--                if (useryue < Number(dqAll_one)) {-->
<!--                    //提交下单按钮不可点击-->
<!--                    $(".ablesubmit").hide();-->
<!--                    $(".uablesubmit").show();-->
<!--                    $(".nomoney").show();-->
<!--                    $(".noname,.noresource,.nowrite").hide();-->
<!--                } else if (payType == '3') {-->
<!--                    var allnum = $('.allnum span').text();-->
<!--                    let maxless = $('.newshengyu span').text();-->
<!--                    if (Number(allnum) > Number(maxless)) {-->
<!--                        $(".ablesubmit").hide();-->
<!--                        $(".uablesubmit").show();-->
<!--                        $(".noresource").show();-->
<!--                        $(".nowrite").hide();-->
<!--                        // $(".noname,.nomoney,.nowrite").show();-->
<!--                    } else {-->
<!--                        $(".ablesubmit").show();-->
<!--                        $(".uablesubmit").hide();-->
<!--                        $(".noresource").hide();-->
<!--                        $(".noname,.nomoney,.nowrite").hide();-->
<!--                    }-->
<!--                } else {-->
<!--                    //对接类型是否选择判断-->
<!--                    var apiType = $('input[name="apiType"]:checked').val();-->
<!--                    if (!!apiType) {-->
<!--                        $(".ablesubmit").show();-->
<!--                        $(".uablesubmit").hide();-->
<!--                    }-->
<!--                }-->
<!--            } else {-->
<!--                var ziyuanbao_yu = Number($(".shengyu span").text());-->
<!--                var toufang_zong = Number($(".dq_all span").text());-->
<!--                var liucun_yu = Number($(".liucun_yu").text());-->
<!--                var liucun_zong = Number($(".word_liucun span").text());-->
<!--                if (ziyuanbao_yu < toufang_zong || liucun_yu < liucun_zong) {-->
<!--                    //提交下单按钮不可点击-->
<!--                    $(".ablesubmit").hide();-->
<!--                    $(".uablesubmit").show();-->
<!--                    $(".noresource").show();-->
<!--                    $(".noname,.nomoney,.nowrite").hide();-->

<!--                } else {-->
<!--                    //对接类型是否选择判断-->
<!--                    var apiType = $('input[name="apiType"]:checked').val();-->
<!--                    if (!!apiType) {-->
<!--                        $(".ablesubmit").show();-->
<!--                        $(".uablesubmit").hide();-->
<!--                    }-->
<!--                }-->
<!--            }-->

<!--            if (payType == '3') {-->
<!--                var allnum = $('.allnum span').text();-->
<!--                let maxless = $('.newshengyu span').text();-->
<!--                console.log(allnum, maxless)-->
<!--                if (Number(allnum) > Number(maxless)) {-->
<!--                    $(".ablesubmit").hide();-->
<!--                    $(".uablesubmit").show();-->
<!--                    $(".noname,.nomoney,.nowrite").hide();-->
<!--                    $(".noresource").show();-->

<!--                    console.log('jinur1')-->
<!--                } else {-->
<!--                    $(".ablesubmit").show();-->
<!--                    $(".uablesubmit").hide();-->
<!--                    $(".noresource").hide();-->
<!--                    $(".noname,.nomoney,.nowrite").hide();-->
<!--                    console.log('jinur2')-->
<!--                }-->
<!--            }-->
<!--            //判断信息是否填写完-->
<!--            if (sum == 0) {-->
<!--                //提交下单按钮不可点击-->
<!--                $(".ablesubmit").hide();-->
<!--                $(".uablesubmit").show();-->
<!--                $(".nowrite").show();-->
<!--                $(".noname,.noresource,.nomoney").hide();-->
<!--            } else {-->
<!--                //对接类型是否选择判断-->
<!--                var apiType = $('input[name="apiType"]:checked').val();-->
<!--                if (!!apiType) {-->
<!--                    $(".ablesubmit").show();-->
<!--                    $(".uablesubmit").hide();-->
<!--                } else {-->
<!--                    $(".ablesubmit").hide();-->
<!--                    $(".uablesubmit").show();-->
<!--                    $(".nowrite").show();-->
<!--                    $(".noname,.noresource,.nomoney").hide();-->
<!--                }-->
<!--            }-->

<!--        })-->
<!--        //关键词输入框失去焦点事件-->
        $("body").delegate("#keyword_table .lay-keyword-ipt", "blur", function () {

            var that = this;
            var iptkey = $(this).val().trim();
            $(this).val(iptkey);
            if (!iptkey) {
                return false
            }
            if (!appstore_id) {
                layer.msg("请先选择应用", {time: 1500})
                return false;
            }
            var sign = 0

            var alrdy_length = $(".lay-keyword-ipt").length
            for (var z = 0; z < alrdy_length; z++) {
                var ipt_val = $(".lay-keyword-ipt").eq(z).val()
                if (iptkey == ipt_val) {
                    sign++
                }
            }

            if (sign > 1) {
                layer.msg("此关键词已有添加")
                return false;
            }
            word_added_table.push(iptkey)
            $(that).attr('ready', 1)
            $(that).attr("disabled", "disabled")
            $(that).css("border", "none")
            //请求ios11的排名
            $.ajax({
                url: "/cust/aso/wordrank",
                data: {
                    word: iptkey,
                    appstore_id: appstore_id
                },
                success: function (res) {
                    console.log(res, 'res')
                    var data = JSON.parse(res)
                    if (data.code != 0) {
                        // console.log('获取失败')
                    }
                    $(that).parent().siblings(".heat").text(data.data.rank.hot)
                    $(that).parent().siblings(".rank").text(data.data.rank.rank)
                }
            })
            //请求ios12的排名
            $.ajax({
                url: "/cust/aso/ios12rank",
                type: "post",
                data: {
                    words: iptkey,
                    appstore_id: appstore_id
                },
                success: function (res) {
                    var data = JSON.parse(res)
                    //console.log(data)
                    if (data.code == 0) {
                        var list = data.data.words
                        var list_key = Object.keys(list)
                        if (list_key == 0) {
                            //console.log("返回为空")
                            return false;
                        }
                        $(that).parent().siblings(".rank-ios12").find(".lay-rank-ipt-ios12").val(list[iptkey].r)
                        $(that).parent().siblings(".heat").text(list[iptkey].hot)
                        $(that).parent().siblings(".rank").text(list[iptkey].r11)
                    }
                }
            })

        })

        //关键词表格添加行 加号点击
        $(".lay-keyword-tr").click(function () {
            if (!appstore_id) {
                layer.msg("请先选择应用", {time: 1500})
                return false;
            }
            //提交下单按钮不可点击
            $(".ablesubmit").hide();
            $(".uablesubmit").show();
            $(".nowrite").show();
            $(".noname,.noresource,.nomoney").hide();

            var aready_length = $(".lay-keyword-ipt").length
            if (aready_length > 299) {
                layer.msg("总提交的关键词不能超过300")
                return false;
            }
            var keyword_table = document.getElementById("keyword_table")
            var newtr = document.createElement("tr");
            var check_box;
            if (kwdspeedall == 1) {
                check_box = '<input type="checkbox" name="kwdspeed" value="1" lay-skin="primary" checked>'
            } else {
                check_box = '<input type="checkbox" name="kwdspeed" value="1" lay-skin="primary">'
            }
            var laypretime;
            if (timeScreen == 0) {
                laypretime = '<td class="lay-starttime" style="display:none"><input type="text" class="layui-input lay-input-show lay-starttime-ipt" /></td>'
                    + '<td class="lay-endtime" style="display:none"><input type="text" class="layui-input lay-input-show lay-endtime-ipt" /></td>'
            } else {
                laypretime = '<td class="lay-starttime"><input type="text" class="layui-input lay-input-show lay-starttime-ipt" /></td>'
                    + '<td class="lay-endtime"><input type="text" class="layui-input lay-input-show lay-endtime-ipt" /></td>'
            }

            if (iosnum == "1") {
                newtr.innerHTML = '<td><input type="text" need="0" ready="0" value="" class="layui-input lay-input-show lay-keyword-ipt"/></td>'
                    + '<td class="heat">-</td>'
                    + '<td class="rank" style="display:none">-</td>'
                    + '<td class="rank-ios12" style="display:none"><input type="text" class="layui-input lay-rank-ipt-ios12" value="-" /></td>'
                    + '<td class="lay-shiji-num"><input type="number" value="" class="layui-input lay-input-show lay-launch-ipt" min="0"/></td>'
                    + laypretime
                    + '<td>'
                    + check_box
                    + '</td>'
                    + '<td>'
                    + '<div class="layui-btn-container">'
                    + '<button class="layui-btn layui-btn-normal lay-delete-keyword" type="button">删除</button></div>'
                    + '</td>'
            } else if (iosnum == "2") {
                var ios12td;
                if (edit_ios12) {
                    ios12td = '<td class="rank-ios12"><input type="text" class="layui-input lay-rank-ipt-ios12" value="-" /></td>'
                } else {
                    ios12td = '<td class="rank-ios12"><input type="text" class="layui-input lay-rank-ipt-ios12" value="-" disabled style="border:none"/></td>'
                }
                newtr.innerHTML = '<td><input type="text" need="0" ready="0" value="" class="layui-input lay-input-show lay-keyword-ipt"/></td>'
                    + '<td class="heat">-</td>'
                    + '<td class="rank" style="display:none">-</td>'
                    + ios12td
                    + '<td class="lay-shiji-num"><input type="number" value="" class="layui-input lay-input-show lay-launch-ipt" min="0"/></td>'
                    + laypretime
                    + '<td>'
                    + check_box
                    + '</td>'
                    + '<td>'
                    + '<div class="layui-btn-container">'
                    + '<button class="layui-btn layui-btn-normal lay-delete-keyword" type="button">删除</button></div>'
                    + '</td>'
            } else {
                var ios12td;
                if (edit_ios12) {
                    ios12td = '<td class="rank-ios12"><input type="text" class="layui-input lay-rank-ipt-ios12" value="-" /></td>'
                } else {
                    ios12td = '<td class="rank-ios12"><input type="text" class="layui-input lay-rank-ipt-ios12" value="-" disabled style="border:none"/></td>'
                }
                newtr.innerHTML = '<td><input type="text" need="0" ready="0" value="" class="layui-input lay-input-show lay-keyword-ipt"/></td>'
                    + '<td class="heat">-</td>'
                    + '<td class="rank" style="display:none">-</td>'
                    + ios12td
                    + '<td class="lay-shiji-num"><input type="number" value="" class="layui-input lay-input-show lay-launch-ipt" min="0"/></td>'
                    + laypretime
                    + '<td>'
                    + check_box
                    + '</td>'
                    + '<td>'
                    + '<div class="layui-btn-container">'
                    + '<button class="layui-btn layui-btn-normal lay-delete-keyword" type="button">删除</button></div>'
                    + '</td>'
            }
            keyword_table.appendChild(newtr);
        })

        //关键词表格填写删除
        $("body").delegate(".lay-delete-keyword", "click", function () {
            var word = $(this).parents('tr').find('.lay-keyword-ipt').val()
            word_added_table.splice($.inArray(word, word_added_table), 1);
            $(this).parent().parent().parent().remove()
            var length = $("#keyword_table tr .lay-shiji-num .lay-input-show").length
            var launch_num_arr = [];
            for (var i = 0; i < length; i++) {
                if ($("#keyword_table tr .lay-shiji-num .lay-input-show").eq(i).val() != 0) {
                    launch_num_arr.push($("#keyword_table tr .lay-shiji-num .lay-input-show").eq(i).val())
                }
            }
            var sum;
            if (launch_num_arr != 0) {
                sum = eval(launch_num_arr.join("+"))
            } else {
                sum = ""
                $("#time_table tr").remove();
                time_table_arr = [];
            }

            $(".allnum span").text(sum)
            dqtfzl_one = sum;
            dqlczl_one = sum * ($('.content-one .lay-input-hide').length);
            $('.content-one .lay-go-purchase span').text(dqlczl_one);
            dqAll_one = (dqtfzl_one * Number($('#tfdj').text()) + dqlczl_one * Number($('#lcdj').text())).toFixed(2);
            $('.ssyh').text('¥' + dqAll_one);
            var time_tou_length = $("#time_table .tounum").length
            for (var j = 0; j < time_tou_length; j++) {
                $("#time_table .tounum").eq(j).text(sum)
            }
            //判断余额/资源包是否充足
            if ($("#is_yue").val() == 1) {
                var useryue = Number($("#useryue").data("useryue"));
                if (useryue < Number(dqAll_one)) {
                    //提交下单按钮不可点击
                    $(".ablesubmit").hide();
                    $(".uablesubmit").show();
                    $(".nomoney").show();
                    $(".noname,.noresource,.nowrite").hide();
                } else if (payType == '3') {
                    var allnum = $('.allnum span').text();
                    let maxless = $('.newshengyu span').text();
                    if (Number(allnum) > Number(maxless)) {
                        $(".ablesubmit").hide();
                        $(".uablesubmit").show();
                        $(".noresource").show();
                        $(".nowrite").hide();
                        // $(".noname,.nomoney,.nowrite").show();
                    } else {
                        $(".ablesubmit").show();
                        $(".uablesubmit").hide();
                        $(".noresource").hide();
                        $(".noname,.nomoney,.nowrite").hide();
                    }
                } else {
                    //对接类型是否选择判断
                    var apiType = $('input[name="apiType"]:checked').val();
                    if (!!apiType) {
                        $(".ablesubmit").show();
                        $(".uablesubmit").hide();
                    }
                }
            } else {
                var ziyuanbao_yu = Number($(".shengyu span").text());
                var toufang_zong = Number($(".dq_all span").text());
                var liucun_yu = Number($(".liucun_yu").text());
                var liucun_zong = Number($(".word_liucun span").text());
                if (ziyuanbao_yu < toufang_zong || liucun_yu < liucun_zong) {
                    //提交下单按钮不可点击
                    $(".ablesubmit").hide();
                    $(".uablesubmit").show();
                    $(".noresource").show();
                    $(".noname,.nomoney,.nowrite").hide();
                } else {
                    //对接类型是否选择判断
                    var apiType = $('input[name="apiType"]:checked').val();
                    if (!!apiType) {
                        $(".ablesubmit").show();
                        $(".uablesubmit").hide();
                    }
                }
            }
            if (payType == '3') {
                var allnum = $('.allnum span').text();
                let maxless = $('.newshengyu span').text();
                if (Number(allnum) > Number(maxless)) {
                    $(".ablesubmit").hide();
                    $(".uablesubmit").show();
                    $(".noresource").show();
                    $(".noname,.nomoney,.nowrite").show();
                } else {
                    $(".ablesubmit").show();
                    $(".uablesubmit").hide();
                    $(".noresource").hide();
                    $(".noname,.nomoney,.nowrite").hide();
                }
            }
            //判断信息是否填写完
            if (sum == 0) {
                //提交下单按钮不可点击
                $(".ablesubmit").hide();
                $(".uablesubmit").show();
                $(".nowrite").show();
                $(".noname,.noresource,.nomoney").hide();
            } else {
                //对接类型是否选择判断
                var apiType = $('input[name="apiType"]:checked').val();
                if (!!apiType) {
                    $(".ablesubmit").show();
                    $(".uablesubmit").hide();
                } else {
                    $(".ablesubmit").hide();
                    $(".uablesubmit").show();
                    $(".nowrite").show();
                    $(".noname,.noresource,.nomoney").hide();
                }
            }
        })

<!--        //未搜到排名时 点击刷新-->
<!--        $(".lay-refresh").click(function () {-->
<!--            refresh_sign++-->
<!--            if (refresh_sign < 3) {-->
<!--                var rankarrs = checkRank()-->
<!--                if (rankarrs.length != 0) {-->
<!--                    var wkeyword = rankarrs.join(",")-->
<!--                    word_commit(wkeyword)-->
<!--                    word_search_action(appstore_id, rankarrs, 0)-->
<!--                    // console.log(wkeyword)-->
<!--                    setButton(1)-->
<!--                }-->
<!--            } else {-->
<!--                $(this).css("color", "#ccc")-->
<!--            }-->

<!--        })-->
<!--        //搜索优化下 留存日期表格添加行 加号点击-->
<!--        $(".lay-time-tr").click(function () {-->
<!--            var launch_number = $(".allnum span").text();-->
<!--            if (launch_number == "" || launch_number == "0") {-->
<!--                var type = $(this).data('type');-->
<!--                active[type] && active[type].call(this);-->
<!--            } else {-->
<!--                var newtr = '<tr>'-->
<!--                    + '<td>第<input type="number" min="1" class="lay-today"/>天<i class="layui-icon layui-icon-help" data-type="tiptime"></i></td>'-->
<!--                    + '<td class="tounum alltounum">' + launch_number + '</td>'-->
<!--                    + '<td>'-->
<!--                    + '<div class="layui-btn-container">'-->
<!--                    + '<button class="layui-btn layui-btn-normal lay-launch-confirm-time" type="button">确认</button>'-->
<!--                    + '<button class="layui-btn layui-btn-normal lay-delete-time" type="button">删除</button>'-->
<!--                    + '</div>'-->
<!--                    + '</td>'-->
<!--                    + '</tr>'-->
<!--                $("#time_table").append(newtr)-->
<!--            }-->
<!--        })-->
<!--        //搜索优化下 留存日期表格填写确认-->
<!--        $("body").delegate(".lay-launch-confirm-time", "click", function () {-->
<!--            var time = $(this).parent().parent().prevAll().last().children(".lay-today").val();-->
<!--            var _self = $(this);-->
<!--            for (var i = 0; i < time_table_arr.length; i++) {-->
<!--                if (time_table_arr[i] == time) {-->
<!--                    layer.msg("日期不能一样！请重新填写!");-->
<!--                    _self.parent().parent().prevAll().last().children(".lay-today").val('');-->
<!--                    return false;-->
<!--                }-->
<!--            }-->
<!--            time_table_arr.push(time);-->
<!--            var launch_num = $(this).parent().parent().prevAll().first().text();-->
<!--            if (time != "" && launch_num != "") {-->
<!--                $(this).hide();-->
<!--                $(this).parent().parent().prevAll().last().children(".lay-today").addClass("lay-input-hide");-->
<!--                $(this).parent().parent().prevAll().last().children(".lay-today").attr('disabled', "disabled");-->
<!--                dqlczl_one = parseInt(launch_num) * $('.content-one .lay-input-hide').length;-->
<!--                $('.content-one .lay-go-purchase span').text(dqlczl_one);-->
<!--                dqAll_one = (dqtfzl_one * Number($('#tfdj').text()) + dqlczl_one * Number($('#lcdj').text())).toFixed(2);-->
<!--                $('.ssyh').text('¥' + dqAll_one);-->
<!--                //判断余额/资源包是否充足-->
<!--                if ($("#is_yue").val() == 1) {-->
<!--                    var useryue = Number($("#useryue").data("useryue"));-->
<!--                    if (useryue < Number(dqAll_one)) {-->
<!--                        //提交下单按钮不可点击-->
<!--                        $(".ablesubmit").hide();-->
<!--                        $(".uablesubmit").show();-->
<!--                        $(".nomoney").show();-->
<!--                        $(".noname,.noresource,.nowrite").hide();-->
<!--                    } else if (payType == '3') {-->
<!--                        var allnum = $('.allnum span').text();-->
<!--                        let maxless = $('.newshengyu span').text();-->
<!--                        if (Number(allnum) > Number(maxless)) {-->
<!--                            $(".ablesubmit").hide();-->
<!--                            $(".uablesubmit").show();-->
<!--                            $(".noresource").show();-->
<!--                            $(".nowrite").hide();-->
<!--                        } else {-->
<!--                            $(".ablesubmit").show();-->
<!--                            $(".uablesubmit").hide();-->
<!--                            $(".noresource").hide();-->
<!--                            $(".noname,.nomoney,.nowrite").hide();-->
<!--                        }-->

<!--                    } else {-->
<!--                        $(".ablesubmit").show();-->
<!--                        $(".uablesubmit").hide();-->
<!--                    }-->
<!--                } else {-->
<!--                    var ziyuanbao_yu = Number($(".shengyu span").text());-->
<!--                    var toufang_zong = Number($(".dq_all span").text());-->
<!--                    var liucun_yu = Number($(`.asoSelect${payType} .liucun_yu`).text());-->
<!--                    var liucun_zong = Number($(".word_liucun span").text());-->
<!--                    if (liucun_yu < liucun_zong) {-->
<!--                        //提交下单按钮不可点击-->
<!--                        $(".ablesubmit").hide();-->
<!--                        $(".uablesubmit").show();-->
<!--                        $(".noresource").show();-->
<!--                        $(".noname,.nomoney,.nowrite").hide();-->
<!--                    } else {-->
<!--                        $(".ablesubmit").show();-->
<!--                        $(".uablesubmit").hide();-->
<!--                    }-->
<!--                }-->

<!--            }-->
<!--        })-->
<!--        //搜索优化下 留存日期表格填写删除-->
<!--        $("body").delegate(".lay-delete-time", "click", function () {-->
<!--            var launch_num = $(this).parent().parent().prevAll().first().text();-->
<!--            var day = $(this).parent().parent().parent().find('.lay-today').val();-->
<!--            if ($(this).prev().is(':hidden')) {-->
<!--                time_table_arr.splice(time_table_arr.indexOf(day), 1);-->
<!--                dqlczl_one -= parseInt(launch_num);-->
<!--            }-->
<!--            $(this).parent().parent().parent().remove();-->
<!--            $('.content-one .lay-go-purchase span').text(dqlczl_one);-->
<!--            dqAll_one = (dqtfzl_one * Number($('#tfdj').text()) + dqlczl_one * Number($('#lcdj').text())).toFixed(2);-->
<!--            $('.ssyh').text('¥' + dqAll_one);-->
<!--            //判断余额/资源包是否充足-->
<!--            if ($("#is_yue").val() == 1) {-->
<!--                var useryue = Number($("#useryue").data("useryue"));-->
<!--                if (useryue < Number(dqAll_one)) {-->
<!--                    //提交下单按钮不可点击-->
<!--                    $(".ablesubmit").hide();-->
<!--                    $(".uablesubmit").show();-->
<!--                    $(".nomoney").show();-->
<!--                    $(".noname,.noresource,.nowrite").hide();-->
<!--                } else {-->
<!--                    //对接类型是否选择判断-->
<!--                    var apiType = $('input[name="apiType"]:checked').val();-->
<!--                    if (!!apiType) {-->
<!--                        $(".ablesubmit").show();-->
<!--                        $(".uablesubmit").hide();-->
<!--                    } else {-->
<!--                        $(".ablesubmit").hide();-->
<!--                        $(".uablesubmit").show();-->
<!--                        $(".nowrite").show();-->
<!--                        $(".noname,.noresource,.nomoney").hide();-->
<!--                    }-->
<!--                }-->
<!--                if (payType == '3') {-->
<!--                    var allnum = $('.allnum span').text();-->
<!--                    let maxless = $('.newshengyu span').text();-->
<!--                    if (Number(allnum) > Number(maxless)) {-->
<!--                        $(".ablesubmit").hide();-->
<!--                        $(".uablesubmit").show();-->
<!--                        $(".noresource").show();-->
<!--                        $(".nowrite").hide();-->
<!--                        // $(".noname,.nomoney,.nowrite").show();-->
<!--                    } else {-->
<!--                        $(".ablesubmit").show();-->
<!--                        $(".uablesubmit").hide();-->
<!--                        $(".noresource").hide();-->
<!--                        $(".noname,.nomoney,.nowrite").hide();-->
<!--                    }-->
<!--                }-->
<!--            } else {-->
<!--                var ziyuanbao_yu = Number($(".shengyu span").text());-->
<!--                var toufang_zong = Number($(".dq_all span").text());-->
<!--                var liucun_yu = Number($(".liucun_yu").text());-->
<!--                var liucun_zong = Number($(".word_liucun span").text());-->
<!--                if (ziyuanbao_yu < toufang_zong || liucun_yu < liucun_zong) {-->
<!--                    //提交下单按钮不可点击-->
<!--                    $(".ablesubmit").hide();-->
<!--                    $(".uablesubmit").show();-->
<!--                    $(".noresource").show();-->
<!--                    $(".noname,.nomoney,.nowrite").hide();-->
<!--                    return false;-->
<!--                } else {-->
<!--                    //对接类型是否选择判断-->
<!--                    var apiType = $('input[name="apiType"]:checked').val();-->
<!--                    if (!!apiType) {-->
<!--                        $(".ablesubmit").show();-->
<!--                        $(".uablesubmit").hide();-->
<!--                    } else {-->
<!--                        $(".ablesubmit").hide();-->
<!--                        $(".uablesubmit").show();-->
<!--                        $(".nowrite").show();-->
<!--                        $(".noname,.noresource,.nomoney").hide();-->
<!--                    }-->
<!--                }-->
<!--            }-->

<!--        })-->
<!--        //直接下载下 留存日期表格添加行 加号点击-->
<!--        $(".lay-time-tr-two").click(function () {-->
<!--            var launch_number = $(".allnum-two span").text();-->
<!--            if (launch_number != "") {-->
<!--                var newtr = '<tr>'-->
<!--                    + '<td>第<input type="number" min="1" class="lay-today"/>天<i class="layui-icon layui-icon-help" data-type="tiptimetwo"></i></td>'-->
<!--                    + '<td class="tounum-two alltounum">' + launch_number + '</td>'-->
<!--                    + '<td>'-->
<!--                    + '<div class="layui-btn-container">'-->
<!--                    + '<button class="layui-btn layui-btn-normal lay-launch-confirm-time-two" type="button">确认</button>'-->
<!--                    + '<button class="layui-btn layui-btn-normal lay-delete-time-two" type="button">删除</button>'-->
<!--                    + '</div>'-->
<!--                    + '</td>'-->
<!--                    + '</tr>'-->
<!--                $("#time_table-two").append(newtr)-->
<!--            } else {-->
<!--                var type = $(this).data('type');-->
<!--                console.log(type)-->
<!--                active[type] && active[type].call(this);-->
<!--            }-->
<!--        })-->
<!--        //直接下载下 留存日期表格填写确认-->
<!--        $("body").delegate(".lay-launch-confirm-time-two", "click", function () {-->
<!--            var time = $(this).parent().parent().prevAll().last().children(".lay-today").val();-->
<!--            var _self = $(this);-->
<!--            for (var i = 0; i < time_table_arr_two.length; i++) {-->
<!--                if (time_table_arr_two[i] == time) {-->
<!--                    layer.msg("日期不能一样！请重新填写!");-->
<!--                    _self.parent().parent().prevAll().last().children(".lay-today").val('');-->
<!--                    return false;-->
<!--                }-->
<!--            }-->
<!--            time_table_arr_two.push(time);-->
<!--            var launch_num = $(this).parent().parent().prevAll().first().text();-->
<!--            if (time != "" && launch_num != "") {-->
<!--                $(this).hide();-->
<!--                $(this).parent().parent().prevAll().last().children(".lay-today").addClass("lay-input-hide");-->
<!--                $(this).parent().parent().prevAll().last().children(".lay-today").attr('disabled', "disabled");-->
<!--                dqlczl_two = parseInt(launch_num) * $('.content-two .lay-input-hide').length;-->
<!--                $('.content-two .lay-go-purchase span').text(dqlczl_two);-->
<!--                dqAll_two = (dqtfzl_two * Number($('#tfdj').text()) + dqlczl_two * Number($('#lcdj').text())).toFixed(2);-->
<!--                $('.zjxz').text('¥' + dqAll_two);-->
<!--                //判断余额/资源包是否充足-->
<!--                if ($("#is_yue").val() == 1) {-->
<!--                    var useryue = Number($("#useryue").data("useryue"));-->
<!--                    if (useryue < Number(dqAll_two)) {-->
<!--                        //提交下单按钮不可点击-->
<!--                        $(".ablesubmit").hide();-->
<!--                        $(".uablesubmit").show();-->
<!--                        $(".nomoney").show();-->
<!--                        $(".noname,.noresource,.nowrite").hide();-->
<!--                    } else {-->
<!--                        $(".ablesubmit").show();-->
<!--                        $(".uablesubmit").hide();-->
<!--                    }-->
<!--                    if (payType == '3') {-->
<!--                        var allnum = $('.allnum span').text();-->
<!--                        let maxless = $('.newshengyu span').text();-->
<!--                        if (Number(allnum) > Number(maxless)) {-->
<!--                            $(".ablesubmit").hide();-->
<!--                            $(".uablesubmit").show();-->
<!--                            $(".noresource").show();-->
<!--                            $(".nowrite").hide();-->
<!--                            // $(".noname,.nomoney,.nowrite").show();-->
<!--                        } else {-->
<!--                            $(".ablesubmit").show();-->
<!--                            $(".uablesubmit").hide();-->
<!--                            $(".noresource").hide();-->
<!--                            $(".noname,.nomoney,.nowrite").hide();-->
<!--                        }-->
<!--                    }-->
<!--                } else {-->
<!--                    var ziyuanbao_yu = Number($(".shengyu span").text());-->
<!--                    var toufang_zong = Number($("#href_table tr .lay-shiji-num .lay-input-hide").val());-->
<!--                    var liucun_yu = Number($(".liucun_yu").text());-->
<!--                    var liucun_zong = Number($(".href_liucun span").text());-->
<!--                    if (ziyuanbao_yu < toufang_zong || liucun_yu < liucun_zong) {-->
<!--                        //提交下单按钮不可点击-->
<!--                        $(".ablesubmit").hide();-->
<!--                        $(".uablesubmit").show();-->
<!--                        $(".noresource").show();-->
<!--                        $(".noname,.nomoney,.nowrite").hide();-->
<!--                    } else {-->
<!--                        $(".ablesubmit").show();-->
<!--                        $(".uablesubmit").hide();-->
<!--                    }-->
<!--                    if (payType == '3') {-->
<!--                        var allnum = $('.allnum span').text();-->
<!--                        let maxless = $('.newshengyu span').text();-->
<!--                        if (Number(allnum) > Number(maxless)) {-->
<!--                            $(".ablesubmit").hide();-->
<!--                            $(".uablesubmit").show();-->
<!--                            $(".noresource").show();-->
<!--                            $(".nowrite").hide();-->
<!--                            // $(".noname,.nomoney,.nowrite").show();-->
<!--                        } else {-->
<!--                            $(".ablesubmit").show();-->
<!--                            $(".uablesubmit").hide();-->
<!--                            $(".noresource").hide();-->
<!--                            $(".noname,.nomoney,.nowrite").hide();-->
<!--                        }-->
<!--                    }-->
<!--                }-->

<!--            }-->
<!--        })-->
<!--        //直接下载下 留存日期表格填写删除-->
<!--        $("body").delegate(".lay-delete-time-two", "click", function () {-->
<!--            var launch_num = $(this).parent().parent().prevAll().first().text();-->
<!--            var day = $(this).parent().parent().parent().find('.lay-today').val();-->
<!--            if ($(this).prev().is(':hidden')) {-->
<!--                time_table_arr_two.splice(time_table_arr_two.indexOf(day), 1);-->
<!--                dqlczl_two -= parseInt(launch_num);-->
<!--            }-->
<!--            $(this).parent().parent().parent().remove();-->
<!--            $('.content-two .lay-go-purchase span').text(dqlczl_two);-->
<!--            dqAll_two = (dqtfzl_two * Number($('#tfdj').text()) + dqlczl_two * Number($('#lcdj').text())).toFixed(2);-->
<!--            $('.zjxz').text('¥' + dqAll_two);-->
<!--            //判断余额/资源包是否充足-->
<!--            if ($("#is_yue").val() == 1) {-->
<!--                var useryue = Number($("#useryue").data("useryue"));-->
<!--                if (useryue < Number(dqAll_two)) {-->
<!--                    //提交下单按钮不可点击-->
<!--                    $(".ablesubmit").hide();-->
<!--                    $(".uablesubmit").show();-->
<!--                    $(".nomoney").show();-->
<!--                    $(".noname,.noresource,.nowrite").hide();-->
<!--                } else {-->
<!--                    //对接类型是否选择判断-->
<!--                    var apiType = $('input[name="apiType"]:checked').val();-->
<!--                    if (!!apiType) {-->
<!--                        $(".ablesubmit").show();-->
<!--                        $(".uablesubmit").hide();-->
<!--                    } else {-->
<!--                        $(".ablesubmit").hide();-->
<!--                        $(".uablesubmit").show();-->
<!--                        $(".nowrite").show();-->
<!--                        $(".noname,.noresource,.nomoney").hide();-->
<!--                    }-->
<!--                }-->
<!--                if (payType == '3') {-->
<!--                    var allnum = $('.allnum span').text();-->
<!--                    let maxless = $('.newshengyu span').text();-->
<!--                    if (Number(allnum) > Number(maxless)) {-->
<!--                        $(".ablesubmit").hide();-->
<!--                        $(".uablesubmit").show();-->
<!--                        $(".noresource").show();-->
<!--                        $(".nowrite").hide();-->
<!--                        // $(".noname,.nomoney,.nowrite").show();-->
<!--                    } else {-->
<!--                        $(".ablesubmit").show();-->
<!--                        $(".uablesubmit").hide();-->
<!--                        $(".noresource").hide();-->
<!--                        $(".noname,.nomoney,.nowrite").hide();-->
<!--                    }-->
<!--                }-->
<!--            } else {-->
<!--                var ziyuanbao_yu = Number($(".shengyu span").text());-->
<!--                var toufang_zong = Number($("#href_table tr .lay-shiji-num .lay-input-hide").val());-->
<!--                var liucun_yu = Number($(".liucun_yu").text());-->
<!--                var liucun_zong = Number($(".href_liucun span").text());-->
<!--                if (ziyuanbao_yu < toufang_zong || liucun_yu < liucun_zong) {-->
<!--                    //提交下单按钮不可点击-->
<!--                    $(".ablesubmit").hide();-->
<!--                    $(".uablesubmit").show();-->
<!--                    $(".noresource").show();-->
<!--                    $(".noname,.nomoney,.nowrite").hide();-->
<!--                } else {-->
<!--                    //对接类型是否选择判断-->
<!--                    var apiType = $('input[name="apiType"]:checked').val();-->
<!--                    if (!!apiType) {-->
<!--                        $(".ablesubmit").show();-->
<!--                        $(".uablesubmit").hide();-->
<!--                    } else {-->
<!--                        $(".ablesubmit").hide();-->
<!--                        $(".uablesubmit").show();-->
<!--                        $(".nowrite").show();-->
<!--                        $(".noname,.noresource,.nomoney").hide();-->
<!--                    }-->
<!--                }-->
<!--                if (payType == '3') {-->
<!--                    var allnum = $('.allnum span').text();-->
<!--                    let maxless = $('.newshengyu span').text();-->
<!--                    if (Number(allnum) > Number(maxless)) {-->
<!--                        $(".ablesubmit").hide();-->
<!--                        $(".uablesubmit").show();-->
<!--                        $(".noresource").show();-->
<!--                        $(".nowrite").hide();-->
<!--                        // $(".noname,.nomoney,.nowrite").show();-->
<!--                    } else {-->
<!--                        $(".ablesubmit").show();-->
<!--                        $(".uablesubmit").hide();-->
<!--                        $(".noresource").hide();-->
<!--                        $(".noname,.nomoney,.nowrite").hide();-->
<!--                    }-->
<!--                }-->
<!--            }-->

<!--        })-->
<!--        //产品短链表格填写确认-->
<!--        $(".lay-launch-confirm-href-two").click(function () {-->
<!--            if (!appstore_id) {-->
<!--                layer.msg("请先选择推广应用");-->
<!--                return false;-->
<!--            }-->
<!--            var keyword = $(this).parent().parent().prevAll().last().children().val().trim();-->
<!--            var launch_num = $(this).parent().parent().prevAll().first().children().val();-->
<!--            if (keyword != "" && launch_num != "") {-->
<!--                $(this).hide();-->
<!--                $(this).parent().parent().prevAll().children().addClass("lay-input-hide");-->
<!--                $(this).parent().parent().prevAll().children().attr('disabled', "disabled");-->
<!--                var sum = $("#href_table tr .lay-shiji-num .lay-input-hide").val()-->
<!--                $(".allnum-two span").text(sum)-->
<!--                dqtfzl_two = sum;-->
<!--                dqlczl_two = sum * ($('.content-two .lay-input-hide').length);-->
<!--                $('.content-two .lay-go-purchase span').text(dqlczl_two);-->
<!--                dqAll_two = (dqtfzl_two * Number($('#tfdj').text()) + dqlczl_two * Number($('#lcdj').text())).toFixed(2);-->
<!--                $('.zjxz').text('¥' + dqAll_two);-->
<!--                //判断余额/资源包是否充足-->
<!--                if ($("#is_yue").val() == 1) {-->
<!--                    var useryue = Number($("#useryue").data("useryue"));-->
<!--                    if (useryue < Number(dqAll_two)) {-->
<!--                        //提交下单按钮不可点击-->
<!--                        $(".ablesubmit").hide();-->
<!--                        $(".uablesubmit").show();-->
<!--                        $(".nomoney").show();-->
<!--                        $(".noname,.noresource,.nowrite").hide();-->
<!--                    } else {-->
<!--                        //提交下单按钮点击判断-->
<!--                        var apiType = $('input[name="apiType"]:checked').val();-->
<!--                        if (!!apiType) {-->
<!--                            $(".ablesubmit").show();-->
<!--                            $(".uablesubmit").hide();-->
<!--                        }-->
<!--                    }-->
<!--                    if (payType == '3') {-->
<!--                        var allnum = $('.allnum span').text();-->
<!--                        let maxless = $('.newshengyu span').text();-->
<!--                        if (Number(allnum) > Number(maxless)) {-->
<!--                            $(".ablesubmit").hide();-->
<!--                            $(".uablesubmit").show();-->
<!--                            $(".noresource").show();-->
<!--                            $(".nowrite").hide();-->
<!--                            // $(".noname,.nomoney,.nowrite").show();-->
<!--                        } else {-->
<!--                            $(".ablesubmit").show();-->
<!--                            $(".uablesubmit").hide();-->
<!--                            $(".noresource").hide();-->
<!--                            $(".noname,.nomoney,.nowrite").hide();-->
<!--                        }-->
<!--                    }-->
<!--                } else {-->
<!--                    var ziyuanbao_yu = Number($(".shengyu span").text());-->
<!--                    var toufang_zong = Number($("#href_table tr .lay-shiji-num .lay-input-hide").val());-->
<!--                    var liucun_yu = Number($(".liucun_yu").text());-->
<!--                    var liucun_zong = Number($(".href_liucun span").text());-->
<!--                    if (ziyuanbao_yu < toufang_zong || liucun_yu < liucun_zong) {-->
<!--                        //提交下单按钮不可点击-->
<!--                        $(".ablesubmit").hide();-->
<!--                        $(".uablesubmit").show();-->
<!--                        $(".noresource").show();-->
<!--                        $(".noname,.nomoney,.nowrite").hide();-->
<!--                    } else {-->
<!--                        //提交下单按钮点击判断-->
<!--                        var apiType = $('input[name="apiType"]:checked').val();-->
<!--                        if (!!apiType) {-->
<!--                            $(".ablesubmit").show();-->
<!--                            $(".uablesubmit").hide();-->
<!--                        }-->
<!--                    }-->
<!--                    if (payType == '3') {-->
<!--                        var allnum = $('.allnum span').text();-->
<!--                        let maxless = $('.newshengyu span').text();-->
<!--                        if (Number(allnum) > Number(maxless)) {-->
<!--                            $(".ablesubmit").hide();-->
<!--                            $(".uablesubmit").show();-->
<!--                            $(".noresource").show();-->
<!--                            $(".nowrite").hide();-->
<!--                            // $(".noname,.nomoney,.nowrite").show();-->
<!--                        } else {-->
<!--                            $(".ablesubmit").show();-->
<!--                            $(".uablesubmit").hide();-->
<!--                            $(".noresource").hide();-->
<!--                            $(".noname,.nomoney,.nowrite").hide();-->
<!--                        }-->
<!--                    }-->
<!--                }-->
<!--            }-->
<!--        })-->
<!--        //产品短链表格填写修改-->
<!--        $(".lay-delete-two").click(function () {-->
<!--            $(".lay-launch-confirm-href-two").show();-->
<!--            $(this).parent().parent().prevAll().children().removeClass("lay-input-hide");-->
<!--            $(this).parent().parent().prevAll().children().removeAttr('disabled');-->
<!--            var launch_num = $("#href_table tr .lay-shiji-num .lay-input-hide").val()-->
<!--            $("#time_table-two tr").remove();-->
<!--            $(".allnum-two span").text("")-->
<!--            $('.content-two .lay-go-purchase span').text('0');-->
<!--            time_table_arr_two = [];-->
<!--            dqlczl_two = 0;-->
<!--            $('.content-two .lay-go-purchase span').text(dqlczl_two);-->
<!--            dqAll_two = (dqtfzl_two * Number($('#tfdj').text()) + dqlczl_two * Number($('#lcdj').text())).toFixed(2);-->
<!--            $('.zjxz').text('¥' + dqAll_two);-->
<!--            //提交下单按钮不可点击-->
<!--            $(".ablesubmit").hide();-->
<!--            $(".uablesubmit").show();-->
<!--            $(".nowrite").show();-->
<!--            $(".noname,.noresource,.nomoney").hide();-->
<!--        })-->
<!--        //匀速跑量关键词全选-->
<!--        form.on('checkbox(kwdspeedall)', function (data) {-->
<!--            kwdspeedall = $("input[name='kwdspeedall']:checked").val();-->
<!--            var allCheck = document.getElementsByName("kwdspeed");-->
<!--            if (kwdspeedall == 1) {-->
<!--                for (var i = 0; i < allCheck.length; i++) {-->
<!--                    allCheck[i].checked = true;-->
<!--                }-->
<!--            } else {-->
<!--                for (var i = 0; i < allCheck.length; i++) {-->
<!--                    allCheck[i].checked = false;-->
<!--                }-->
<!--            }-->

<!--        });-->
<!--        //监听提交-->
<!--        form.on('submit(formDemo)', function (data) {-->
<!--            var pay_type;-->
<!--            if (payType == '1') {-->
<!--                pay_type = 'pay_cash';-->
<!--            }-->
<!--            if (payType == '2') {-->
<!--                pay_type = 'pay_res';-->
<!--            }-->
<!--            if (payType == '3') {-->
<!--                pay_type = 'pay_res';-->
<!--            }-->
<!--            console.log(data.field);-->
<!--            var is_local_qc = data.field.is_local_qc;-->
<!--            var downType = data.field.downType;-->
<!--            var startDate = '';-->
<!--            var endDate = '';-->
<!--            var remain = data.field.remain;-->
<!--            var jump_link = data.field.jump_link;-->
<!--            var copywriting1 = data.field.copywriting1;-->
<!--            var copywriting2 = data.field.copywriting2;-->
<!--            var randomKwd = data.field.randomKwd;-->
<!--            var timeScreen = data.field.timeScreen;-->
<!--            var is_reserve = data.field.is_reserve;-->
<!--            var is_track_category_rank = data.field.is_track_category_rank;-->
<!--            var onlineDateTime = '';-->
<!--            var pic_url = "";-->
<!--            //判断实名认证-->
<!--            var is_realname = $('#is_realname').val();-->
<!--            if (is_realname != 1) {-->
<!--                $(".ablesubmit").hide();-->
<!--                $(".uablesubmit").show();-->
<!--                $(".noname").show();-->
<!--                $(".nomoney,.noresource,.nowrite").hide();-->
<!--                layer.msg("没有实名认证", {time: 2000})-->
<!--                return false;-->
<!--            }-->
<!--            //匀速跑量-->
<!--            var uniformity = '';-->
<!--            var isgetkeyword = $("#get-keyword-text").hasClass('get-keyword-text')-->
<!--            if (isgetkeyword) {-->
<!--                var allCheck = document.getElementsByName("kwdspeed");-->
<!--                for (var i = 0; i < allCheck.length; i++) {-->
<!--                    if (allCheck[i].checked == true) {-->
<!--                        uniformity += "1,"-->
<!--                    } else {-->
<!--                        uniformity += "0,"-->
<!--                    }-->
<!--                }-->
<!--            } else {-->
<!--                var hrefcheck = document.getElementsByName("hrefspeed");-->
<!--                if (hrefcheck[0].checked == true) {-->
<!--                    uniformity = "1"-->
<!--                } else {-->
<!--                    uniformity = "0"-->
<!--                }-->
<!--            }-->
<!--            //投放关键词-->
<!--            var words = "";-->

<!--            var keyword_length = $(".get-keyword-text #keyword_table .lay-keyword-ipt").length;-->
<!--            var isgetkeyword = $("#get-keyword-text").hasClass('get-keyword-text')-->
<!--            if (keyword_length == "" && isgetkeyword) {-->
<!--                layer.alert('请先添加关键词和实际投放数量！！！', {-->
<!--                    title: "提示",-->
<!--                    btn: ['去添加']-->
<!--                }, function (index) {-->
<!--                    layer.close(index)-->
<!--                });-->
<!--                return false;-->
<!--            }-->
<!--            for (var i = 0; i < keyword_length; i++) {-->
<!--                if ($(".get-keyword-text #keyword_table .lay-keyword-ipt").eq(i).val() != "") {-->
<!--                    words = words + $(".get-keyword-text #keyword_table .lay-keyword-ipt").eq(i).val() + ','-->
<!--                } else {-->
<!--                    layer.alert('关键词输入框不能为空！！！', {-->
<!--                        title: "提示",-->
<!--                        btn: ['去修改']-->
<!--                    }, function (index) {-->
<!--                        layer.close(index)-->
<!--                    });-->
<!--                    return false;-->
<!--                }-->
<!--            }-->

<!--            //实际投放量-->
<!--            var num = "";-->

<!--            var launch_num_length = $(".get-keyword-text #keyword_table .lay-launch-ipt").length-->

<!--            for (var i = 0; i < launch_num_length; i++) {-->
<!--                if ($(".get-keyword-text #keyword_table .lay-launch-ipt").eq(i).val() != "") {-->
<!--                    num = num + $(".get-keyword-text #keyword_table .lay-launch-ipt").eq(i).val() + ','-->
<!--                } else {-->
<!--                    layer.alert('实际投放数量输入框不能为空！！！', {-->
<!--                        title: "提示",-->
<!--                        btn: ['去修改']-->
<!--                    }, function (index) {-->
<!--                        layer.close(index)-->
<!--                    });-->
<!--                    return false;-->
<!--                }-->
<!--            }-->

<!--            //热度-->
<!--            var hots = ""-->

<!--            var launch_hots_length = $(".get-keyword-text #keyword_table .heat").length-->

<!--            for (var i = 0; i < launch_hots_length; i++) {-->
<!--                hots = hots + $(".get-keyword-text #keyword_table .heat").eq(i).text() + ','-->
<!--            }-->

<!--            //ios11排名-->
<!--            var ranks = "";-->

<!--            var launch_ranks_length = $(".get-keyword-text #keyword_table .rank").length-->

<!--            for (var i = 0; i < launch_ranks_length; i++) {-->
<!--                ranks = ranks + $(".get-keyword-text #keyword_table .rank").eq(i).text() + ','-->
<!--            }-->
<!--            //ios12排名-->
<!--            var ranks12 = "";-->

<!--            var launch_ranks12_length = $(".get-keyword-text #keyword_table .rank-ios12").length-->

<!--            for (var i = 0; i < launch_ranks12_length; i++) {-->
<!--                ranks12 = ranks12 + $(".get-keyword-text #keyword_table .lay-rank-ipt-ios12").eq(i).val() + ','-->
<!--            }-->
<!--            //判断是选择了批量时间还是关键词时间-->
<!--            if (timeScreen == 1) {-->
<!--                //表格内的开始时间-->
<!--                var reg = /^[1-9]\d{3}-[0-9]{1,2}-[0-9]{1,2}\s+[0-9]{1,2}:[0-9]{1,2}$/;-->
<!--                var prestarttimeArr = [];-->
<!--                var laystarttime_length = $(".get-keyword-text #keyword_table .lay-starttime").length;-->
<!--                for (var i = 0; i < laystarttime_length; i++) {-->
<!--                    var prestartval = $(".get-keyword-text #keyword_table .lay-starttime-ipt").eq(i).val();-->
<!--                    if (prestartval != "") {-->
<!--                        if (!reg.test(prestartval)) {-->
<!--                            layer.msg("开始时间格式不正确，请修改后再提交");-->
<!--                            return false;-->
<!--                        }-->
<!--                    }-->
<!--                    prestarttimeArr.push(prestartval)-->
<!--                }-->
<!--                var prestarttime = prestarttimeArr.join();-->
<!--                //表格内的结束时间-->
<!--                var preendtimeArr = [];-->
<!--                var layendtime_length = $(".get-keyword-text #keyword_table .lay-endtime").length;-->
<!--                for (var i = 0; i < layendtime_length; i++) {-->
<!--                    var preendval = $(".get-keyword-text #keyword_table .lay-endtime-ipt").eq(i).val();-->
<!--                    if (preendval != "") {-->
<!--                        if (!reg.test(preendval)) {-->
<!--                            layer.msg("结束时间格式不正确，请修改后再提交")-->
<!--                            return false;-->
<!--                        }-->
<!--                    }-->
<!--                    preendtimeArr.push(preendval)-->
<!--                }-->
<!--                var preendtime = preendtimeArr.join();-->
<!--            } else {-->
<!--                var prestarttime = "";-->
<!--                var preendtime = "";-->
<!--            }-->

<!--            //产品短链-->
<!--            var urls = ""-->
<!--            var ishref = $("#get-href-text").hasClass('get-href-text')-->
<!--            if ($(".get-href-text #lay-shiji-href").hasClass("lay-input-hide")) {-->
<!--                urls = $(".get-href-text .lay-shiji-href .lay-input-hide").val()-->
<!--            } else if (ishref) {-->
<!--                layer.alert('请确认链接和投放量！！！', {-->
<!--                    title: "提示",-->
<!--                    btn: ['去修改']-->
<!--                }, function (index) {-->
<!--                    layer.close(index)-->
<!--                });-->
<!--                return false;-->
<!--            }-->
<!--            //产品短链投放量-->
<!--            var urlNums = ""-->
<!--            if ($(".get-href-text #lay-shiji-num").hasClass("lay-input-hide")) {-->
<!--                urlNums = $(".get-href-text .lay-shiji-num .lay-input-hide").val()-->
<!--            }-->
<!--            //留存日期-->
<!--            var remainDays = ""-->
<!--            var remainDays_length = $(".get-time-text .lay-input-hide").length-->
<!--            for (var i = 0; i < remainDays_length; i++) {-->
<!--                remainDays = remainDays + $(".get-time-text .lay-input-hide").eq(i).val() + ','-->
<!--            }-->
<!--            //留存数量-->
<!--            var remainNums = ""-->
<!--            var remainNums_length = $(".get-time-text .alltounum").length-->
<!--            for (var i = 0; i < remainNums_length; i++) {-->
<!--                if (remainDays_length) {-->
<!--                    remainNums = remainNums + $(".get-time-text .alltounum").eq(i).text() + ','-->
<!--                }-->
<!--            }-->
<!--            //判断关键词排名-->
<!--            if (iosnum == "1") {-->
<!--                var pai_length = $("#keyword_table .rank").length-->
<!--                for (var i = 0; i < pai_length; i++) {-->
<!--                    var ranktext = $("#keyword_table .rank").eq(i).text()-->
<!--                    if (ranktext == 0 || ranktext == "-") {-->
<!--                        $("#keyword_table .rank").eq(i).css("color", "red")-->
<!--                    }-->
<!--                    var ranknum = parseInt(ranktext)-->
<!--                    if (ranknum > 400) {-->
<!--                        $("#keyword_table .rank").eq(i).css("color", "red")-->
<!--                    }-->
<!--                }-->
<!--                for (var j = 0; j < pai_length; j++) {-->
<!--                    var ranktext = $("#keyword_table .rank").eq(j).text()-->
<!--                    if (ranktext == 0 || ranktext == "-") {-->
<!--                        layer.msg("不能投放没有排名的关键词，请删除后再投放")-->
<!--                        return false;-->
<!--                    }-->
<!--                    var ranknum = parseInt(ranktext)-->
<!--                    if (ranknum > 400) {-->
<!--                        layer.msg("关键词排名超出400名不能投放，请修改后再投放")-->
<!--                        return false;-->
<!--                    }-->
<!--                }-->
<!--            } else if (iosnum == "2") {-->
<!--                var pai_length_ios12 = $("#keyword_table .rank-ios12").length-->
<!--                for (var i = 0; i < pai_length_ios12; i++) {-->
<!--                    var ranktext_ios12 = $("#keyword_table .lay-rank-ipt-ios12").eq(i).val()-->
<!--                    if (ranktext_ios12 == 0 || ranktext_ios12 == "") {-->
<!--                        $("#keyword_table .lay-rank-ipt-ios12").eq(i).css("color", "red")-->
<!--                    }-->
<!--                    var ranknum_ios12 = parseInt(ranktext_ios12)-->
<!--                    if (ranknum_ios12 > 400) {-->
<!--                        $("#keyword_table .lay-rank-ipt-ios12").eq(i).css("color", "red")-->
<!--                    }-->
<!--                }-->
<!--                for (var j = 0; j < pai_length_ios12; j++) {-->
<!--                    var ranktext_ios12 = $("#keyword_table .lay-rank-ipt-ios12").eq(j).val()-->
<!--                    if (ranktext_ios12 == 0 || ranktext_ios12 == "") {-->
<!--                        layer.msg("不能投放没有排名的关键词，请删除后再投放")-->
<!--                        return false;-->
<!--                    }-->
<!--                    var ranknum_ios12 = parseInt(ranktext_ios12)-->
<!--                    if (ranknum_ios12 > 400) {-->
<!--                        layer.msg("关键词排名超出400名不能投放，请修改后再投放")-->
<!--                        return false;-->
<!--                    }-->
<!--                }-->
<!--            } else {-->
<!--                var pai_length_all = $("#keyword_table .rank").length-->
<!--                for (var i = 0; i < pai_length_all; i++) {-->
<!--                    var ranktext = $("#keyword_table .rank").eq(i).text()-->
<!--                    var ranktext_ios12 = $("#keyword_table .lay-rank-ipt-ios12").eq(i).val()-->
<!--                    if ((ranktext == 0 || ranktext == "-") && (ranktext_ios12 == 0 || ranktext_ios12 == "")) {-->
<!--                        $("#keyword_table .rank").eq(i).css("color", "red")-->
<!--                        $("#keyword_table .lay-rank-ipt-ios12").eq(i).css("color", "red")-->
<!--                    }-->
<!--                    var ranknum = parseInt(ranktext)-->
<!--                    var ranknum_ios12 = parseInt(ranktext_ios12)-->
<!--                    if (ranknum > 400 && ranknum_ios12 > 400) {-->
<!--                        $("#keyword_table .rank").eq(i).css("color", "red")-->
<!--                        $("#keyword_table .lay-rank-ipt-ios12").eq(i).css("color", "red")-->
<!--                    }-->
<!--                    if ((ranktext == 0 || ranktext == "-") && ranknum_ios12 > 400) {-->
<!--                        $("#keyword_table .rank").eq(i).css("color", "red")-->
<!--                        $("#keyword_table .lay-rank-ipt-ios12").eq(i).css("color", "red")-->
<!--                    }-->
<!--                    if (ranknum > 400 && (ranktext_ios12 == 0 || ranktext_ios12 == "")) {-->
<!--                        $("#keyword_table .rank").eq(i).css("color", "red")-->
<!--                        $("#keyword_table .lay-rank-ipt-ios12").eq(i).css("color", "red")-->
<!--                    }-->
<!--                }-->
<!--                for (var j = 0; j < pai_length_all; j++) {-->
<!--                    var ranktext = $("#keyword_table .rank").eq(j).text()-->
<!--                    var ranktext_ios12 = $("#keyword_table .lay-rank-ipt-ios12").eq(j).val()-->
<!--                    if ((ranktext == 0 || ranktext == "-") && (ranktext_ios12 == 0 || ranktext_ios12 == "")) {-->
<!--                        layer.msg("不能投放没有排名的关键词，请删除后再投放")-->
<!--                        return false;-->
<!--                    }-->
<!--                    var ranknum = parseInt(ranktext)-->
<!--                    var ranknum_ios12 = parseInt(ranktext_ios12)-->
<!--                    if (ranknum > 400 && ranknum_ios12 > 400) {-->
<!--                        layer.msg("关键词排名超出400名不能投放，请删除后再投放")-->
<!--                        return false;-->
<!--                    }-->
<!--                    if ((ranktext == 0 || ranktext == "-") && ranknum_ios12 > 400) {-->
<!--                        layer.msg("关键词没有排名且排名大于400不能投放，请删除后再投放")-->
<!--                        return false;-->
<!--                    }-->
<!--                    if (ranknum > 400 && (ranktext_ios12 == 0 || ranktext_ios12 == "")) {-->
<!--                        layer.msg("关键词没有排名且排名大于400不能投放，请删除后再投放")-->
<!--                        return false;-->
<!--                    }-->
<!--                }-->
<!--            }-->
<!--            //判断投放数量-->
<!--            if (num) {-->
<!--                if ($(".allnum span").text() < minPublish) {-->
<!--                    layer.msg("关键词总投放量不能少于" + minPublish + "，请修改后再投放")-->
<!--                    return false;-->
<!--                }-->
<!--            }-->

<!--            //判断链接-->
<!--            if (urlNums) {-->
<!--                if ($("#lay-shiji-num").val() < minPublish) {-->
<!--                    layer.msg("链接总投放量不能少于" + minPublish + "，请修改后再投放")-->
<!--                    return false;-->
<!--                }-->
<!--            }-->

<!--            //判断投放时间-->
<!--            if (timeScreen == 0) {-->
<!--                var test1 = $("#test1").val();-->
<!--                var test2 = $("#test2").val();-->
<!--                var test3 = $("#test3").val();-->
<!--                var test4 = $("#test4").val();-->
<!--                if (!test1 || !test2 || !test3 || !test4) {-->
<!--                    layer.msg("请选择投放时间段")-->
<!--                    return false;-->
<!--                } else {-->
<!--                    startDate = test1 + " " + test2-->
<!--                    endDate = test3 + " " + test4-->
<!--                }-->
<!--                var year = Number(test1.split("-")[0]) == Number(test3.split("-")[0])-->
<!--                var month = Number(test1.split("-")[1]) == Number(test3.split("-")[1])-->
<!--                if (!year || !month) {-->
<!--                    layer.msg("开始日期与结束日期必须保证在同一月份", {time: 2500})-->
<!--                    return false;-->
<!--                }-->
<!--                var time1 = new Date(startDate);-->
<!--                var time2 = new Date(endDate);-->
<!--                var minus = time2.getTime() - time1.getTime();-->
<!--                if (minus < 3540000 || minus > 86340000) {-->
<!--                    layer.msg("开始时间与结束时间间隔必须大于等于1小时且小于24小时", {time: 3500})-->
<!--                    return false;-->
<!--                }-->
<!--            } else {-->
<!--                startDate = "";-->
<!--                endDate = "";-->
<!--            }-->
<!--            //判断应用上线时间-->
<!--            if (is_reserve == 1) {-->
<!--                var onlineDate = $("#onlineDate").val();-->
<!--                var onlineTime = $("#onlineTime").val();-->
<!--                if (!onlineDate || !onlineTime) {-->
<!--                    layer.msg("请选择应用上线时间", {time: 2000});-->
<!--                    return false;-->
<!--                } else {-->
<!--                    onlineDateTime = onlineDate + " " + onlineTime;-->
<!--                    // var s_date_s = (new Date(startDate).getTime())/1000;-->
<!--                    var e_date_s = (new Date(endDate).getTime()) / 1000;-->
<!--                    var o_date_s = (new Date(onlineDateTime).getTime()) / 1000;-->
<!--                    if (o_date_s <= e_date_s) {-->
<!--                        layer.msg("应用上线时间必须大于投放结束时间", {time: 3000})-->
<!--                        return false;-->
<!--                    }-->
<!--                }-->
<!--            }-->
<!--            //判断上传截图-->
<!--            if (is_reserve == 1) {-->
<!--                var pic_url_arr = [];-->
<!--                var imglength = $('[name="pic_url"]').length;-->
<!--                for (var i = 0; i < imglength; i++) {-->
<!--                    pic_url_arr.push($('[name="pic_url"]').eq(i).val())-->
<!--                }-->
<!--                if (pic_url_arr == "") {-->
<!--                    layer.msg("请上传您的截图", {time: 2000});-->
<!--                    return false;-->
<!--                }-->
<!--                pic_url = pic_url_arr.join();-->
<!--            }-->
<!--            //判断对接类型-->
<!--            var apiType = data.field.apiType;-->
<!--            if (!apiType) {-->
<!--                layer.msg("请选择对接类型", {time: 2000})-->
<!--                return false;-->
<!--            }-->
<!--            var tips = "您确定提交下单吗？";-->
<!--            //判断此应用是否配置了接口-->
<!--            if (apiType == "-1" && has_api == "1") {-->
<!--                tips = "此应用存在配置接口，确定以不对接形式跑量?";-->
<!--            }-->
<!--            if (payType == '3') {-->
<!--                var allnum = $('.allnum span').text();-->
<!--                let maxless = $('.newshengyu span').text();-->
<!--                if (Number(allnum) > Number(maxless)) {-->
<!--                    $(".ablesubmit").hide();-->
<!--                    $(".uablesubmit").show();-->
<!--                    $(".noresource").show();-->
<!--                } else {-->
<!--                    $(".ablesubmit").show();-->
<!--                    $(".uablesubmit").hide();-->
<!--                    $(".noresource").hide();-->
<!--                    $(".noname,.nomoney,.nowrite").hide();-->
<!--                }-->
<!--            }-->

<!--            var lock = false;-->
<!--            layer.confirm(tips, {-->
<!--                title: "提示",-->
<!--                btn: ['确定', '取消']-->
<!--            }, function () {-->
<!--                if (!lock) {-->
<!--                    lock = true;-->
<!--                    var index1 = layer.load();-->
<!--                    $.ajax({-->
<!--                        url: "/cust/aso/publish",-->
<!--                        type: "post",-->
<!--                        data: {-->
<!--                            id: id,-->
<!--                            remain: remain,-->
<!--                            downType: downType,-->
<!--                            apiType: apiType,-->
<!--                            startDate: startDate,-->
<!--                            endDate: endDate,-->
<!--                            urls: urls,-->
<!--                            urlNums: urlNums,-->
<!--                            words: words,-->
<!--                            hots: hots,-->
<!--                            ranks: ranks,-->
<!--                            ranks12: ranks12,-->
<!--                            num: num,-->
<!--                            put_old: $('#put_old').val(),-->
<!--                            remainDays: remainDays,-->
<!--                            remainNums: remainNums,-->
<!--                            pay_type: pay_type,-->
<!--                            is_local_qc: is_local_qc,-->
<!--                            jump_link: jump_link,-->
<!--                            uniformity: uniformity,-->
<!--                            copywriting1: copywriting1,-->
<!--                            copywriting2: copywriting2,-->
<!--                            randomKwd: randomKwd,-->
<!--                            prestarttime: prestarttime,-->
<!--                            preendtime: preendtime,-->
<!--                            timeScreen: timeScreen,-->
<!--                            onlineDateTime: onlineDateTime,-->
<!--                            pic_url: pic_url,-->
<!--                            is_track_category_rank: is_track_category_rank,-->
<!--                            is_reserve: is_reserve-->
<!--                        },-->
<!--                        success: function (res) {-->
<!--                            var data = JSON.parse(res)-->
<!--                            //console.log(data)-->
<!--                            if (data.code == 0) {-->
<!--                                layer.msg('下单成功', {-->
<!--                                    time: 1500-->
<!--                                }, function () {-->
<!--                                    $(".order-query").click()-->
<!--                                    location.reload()-->
<!--                                });-->
<!--                            } else {-->
<!--                                layer.msg(data.msg, {-->
<!--                                    time: 2500-->
<!--                                });-->
<!--                            }-->
<!--                            layer.close(index1);-->
<!--                        }-->
<!--                    })-->
<!--                }-->
<!--            });-->
<!--            return false;-->
<!--        });-->

<!--    });-->


<!--    //======函数封装=====-->
<!--    function monitor(appstore_id) {-->

<!--        var timesign = 0-->
<!--        var word_need_request = []-->
<!--        var word_need_request_wait = 0-->
<!--        //定时器间隔初始值-->
<!--        var time_base = 600-->
<!--        var close_timer = 0-->

<!--        timer = setInterval(func, time_base)-->

<!--        function func() {-->
<!--            if (close_timer == 1) {-->
<!--                clearInterval(timer)-->
<!--                return true-->
<!--            }-->
<!--            console.log(timesign)-->
<!--            echoTime()-->
<!--            if (timesign == 8) {-->
<!--                timesign += 1-->
<!--                clearInterval(timer)-->
<!--                time_base = 1500-->
<!--                timer = setInterval(func, time_base)-->
<!--                return true-->
<!--            }-->

<!--            $('#keyword_table input[need=1][ready=1]').each(function () {-->
<!--                var value = $(this).val()-->
<!--                word_need_request.push(value)-->

<!--            })-->
<!--            word_need_request_wait = 0-->
<!--            $('#keyword_table input[need=1][ready=0]').each(function () {-->
<!--                var value = $(this).val()-->
<!--                word_need_request_wait = 1-->

<!--            })-->

<!--            //console.log('==need request',word_need_request,word_need_request_wait)-->
<!--            if (timesign == 15 || (word_need_request_wait == 0 && word_need_request.length == 0)) {-->
<!--                //console.log('time interval is over,timesign=',timesign,word_need_request)-->
<!--                //启动下一次监控-->
<!--                table_trigger = 0-->
<!--                //关闭定时器-->
<!--                close_timer = 1-->
<!--                timesign = 0-->
<!--                echoTime()-->
<!--                var rankarrs = checkRank()-->
<!--                if (rankarrs.length != 0) {-->
<!--                    setButton(1)-->
<!--                }-->
<!--            }-->
<!--            if (word_need_request_wait == 1) {-->
<!--                timesign = 1-->
<!--            }-->
<!--            //console.log('==1')-->
<!--            //search word-->
<!--            if (word_need_request.length != 0) {-->
<!--                //console.log('==2')-->
<!--                word_search_action(appstore_id, word_need_request, 1)-->
<!--            }-->

<!--            word_need_request = []-->
<!--            timesign++-->

<!--        }-->


<!--    }-->

<!--    function words_add(appstore_id) {-->
<!--        var words_array = []-->
<!--        var text_string = '';-->

<!--        if (!appstore_id) {-->
<!--            layer.msg("请先选择应用", {time: 1500})-->
<!--            return false;-->
<!--        }-->
<!--        if ($(".layui-textarea").val().trim() == "") {-->
<!--            layer.msg("不能为空", {time: 1500})-->
<!--            return false;-->
<!--        }-->
<!--        //规则判断-->
<!--        words_array = text_parse()-->
<!--        text_string = text_create(words_array['str'])-->
<!--        $(".layui-textarea").val(text_string);-->
<!--        if (text_string.search(/\s\/\/\*\*.*\*\*/g) != -1) {-->
<!--            layer.msg("未按规则填写", {time: 1500})-->
<!--            return false;-->
<!--        }-->
<!--        var aready_length;-->
<!--        var creat_length;-->
<!--        aready_length = $(".lay-keyword-ipt").length-->
<!--        creat_length = words_array['word'].length-->

<!--        var al_length = Number(aready_length) + Number(creat_length)-->
<!--        if (al_length > 300) {-->
<!--            layer.msg("总提交的关键词数量不能超过300")-->
<!--            return false;-->
<!--        }-->

<!--        //提交词-->
<!--        // word_register_action(words_array['word'])-->
<!--        //点击添加的生成table-->
<!--        create_table(words_array['word'])-->
<!--        //ios12情况下 直接请求接口-->
<!--        var keywordios12 = [];-->
<!--        $('#keyword_table .lay-keyword-ipt').each(function () {-->
<!--            var value = $(this).val()-->
<!--            keywordios12.push(value)-->

<!--        })-->
<!--        // console.log(keywordios12,'keywordios12')-->
<!--        word_search_action_ios12(appstore_id, keywordios12)-->

<!--        //ios11下 搜索-->
<!--        // monitor(appstore_id)-->


<!--        $(".layui-textarea").val("")-->

<!--        //计算总投放量-->
<!--        var numb_length = $("#keyword_table .lay-shiji-num .lay-input-show").length-->
<!--        if (numb_length) {-->
<!--            var launch_num_arr = [];-->
<!--            for (var i = 0; i < numb_length; i++) {-->
<!--                if ($("#keyword_table .lay-shiji-num .lay-input-show").eq(i).val() != "") {-->
<!--                    launch_num_arr.push($("#keyword_table .lay-shiji-num .lay-input-show").eq(i).val())-->
<!--                }-->
<!--            }-->
<!--            var sum = eval(launch_num_arr.join("+"))-->
<!--            $(".allnum span").text(sum)-->
<!--        }-->
<!--        var time_tou_length = $("#time_table .tounum").length-->
<!--        for (var j = 0; j < time_tou_length; j++) {-->
<!--            $("#time_table .tounum").eq(j).text(sum)-->
<!--        }-->
<!--        dqtfzl_one = sum;-->
<!--        dqlczl_one = sum * ($('.content-one .lay-input-hide').length);-->
<!--        $('.content-one .lay-go-purchase span').text(dqlczl_one);-->
<!--        dqAll_one = (dqtfzl_one * Number($('#tfdj').text()) + dqlczl_one * Number($('#lcdj').text())).toFixed(2);-->
<!--        $('.ssyh').text('¥' + dqAll_one);-->
<!--        //判断余额/资源包是否充足-->
<!--        if ($("#is_yue").val() == 1) {-->
<!--            var useryue = Number($("#useryue").data("useryue"));-->
<!--            if (useryue < Number(dqAll_one)) {-->
<!--                //提交下单按钮不可点击-->
<!--                $(".ablesubmit").hide();-->
<!--                $(".uablesubmit").show();-->
<!--                $(".nomoney").show();-->
<!--                $(".noname,.noresource,.nowrite").hide();-->
<!--            } else {-->
<!--                //对接类型是否选择判断-->
<!--                var apiType = $('input[name="apiType"]:checked').val();-->
<!--                if (!!apiType) {-->
<!--                    $(".ablesubmit").show();-->
<!--                    $(".uablesubmit").hide();-->
<!--                }-->
<!--            }-->
<!--            if (payType == '3') {-->
<!--                var allnum = $('.allnum span').text();-->
<!--                let maxless = $('.newshengyu span').text();-->
<!--                if (Number(allnum) > Number(maxless)) {-->
<!--                    $(".ablesubmit").hide();-->
<!--                    $(".uablesubmit").show();-->
<!--                    $(".noresource").show();-->
<!--                    $(".nowrite").hide();-->
<!--                    // $(".noname,.nomoney,.nowrite").show();-->
<!--                } else {-->
<!--                    $(".ablesubmit").show();-->
<!--                    $(".uablesubmit").hide();-->
<!--                    $(".noresource").hide();-->
<!--                    $(".noname,.nomoney,.nowrite").hide();-->
<!--                }-->
<!--            }-->
<!--        } else {-->
<!--            var ziyuanbao_yu = Number($(".shengyu span").text());-->
<!--            var toufang_zong = Number($(".dq_all span").text());-->
<!--            var liucun_yu = Number($(".liucun_yu").text());-->
<!--            var liucun_zong = Number($(".word_liucun span").text());-->
<!--            if (ziyuanbao_yu < toufang_zong || liucun_yu < liucun_zong) {-->
<!--                //提交下单按钮不可点击-->
<!--                $(".ablesubmit").hide();-->
<!--                $(".uablesubmit").show();-->
<!--                $(".noresource").show();-->
<!--                $(".noname,.nomoney,.nowrite").hide();-->
<!--            } else {-->
<!--                //对接类型是否选择判断-->
<!--                var apiType = $('input[name="apiType"]:checked').val();-->
<!--                if (!!apiType) {-->
<!--                    $(".ablesubmit").show();-->
<!--                    $(".uablesubmit").hide();-->
<!--                }-->
<!--            }-->
<!--        }-->
<!--        if (payType == '3') {-->
<!--            var allnum = $('.allnum span').text();-->
<!--            let maxless = $('.newshengyu span').text();-->
<!--            if (Number(allnum) > Number(maxless)) {-->
<!--                $(".ablesubmit").hide();-->
<!--                $(".uablesubmit").show();-->
<!--                $(".noresource").show();-->
<!--            } else {-->
<!--                $(".ablesubmit").show();-->
<!--                $(".uablesubmit").hide();-->
<!--                $(".noresource").hide();-->
<!--                $(".noname,.nomoney,.nowrite").hide();-->
<!--            }-->

<!--        }-->

<!--    }-->

<!--    //ios11请求排名热度接口-->
<!--    function word_search_action(appstore_id, words, need) {-->
<!--        var str_r = words.join()-->

<!--        $.ajax({-->
<!--            url: "/cust/aso/wordRankHot",-->
<!--            type: "post",-->
<!--            data: {-->
<!--                words: str_r,-->
<!--                appstore_id: appstore_id-->
<!--            },-->
<!--            success: function (res) {-->
<!--                var data = JSON.parse(res)-->
<!--                //console.log(data)-->
<!--                if (data.code == 0) {-->
<!--                    var signarr = []-->
<!--                    var list = data.data.words-->

<!--                    var list_key = Object.keys(list)-->
<!--                    if (list_key == 0) {-->
<!--                        //console.log("返回为空")-->
<!--                        return false;-->
<!--                    }-->
<!--                    $('#keyword_table input[need=' + need + '][ready=1]').each(function () {-->
<!--                        var value = $(this).val()-->
<!--                        if ($.inArray(value, list_key) == -1) {-->
<!--//                            console.log('==该字符串无返回: ',value)-->
<!--                        } else {-->
<!--                            if (list[value].s == 1) {-->
<!--                                $(this).attr('need', 0)-->
<!--                                $(this).parent().siblings(".heat").text(list[value].hot)-->
<!--                                $(this).parent().siblings(".rank").text(list[value].p)-->
<!--                            } else {-->
<!--                                signarr.push(value)-->
<!--                            }-->
<!--                        }-->

<!--                    })-->

<!--                    if (signarr.length == 0) {-->
<!--                        //启动下一次监控-->
<!--                        table_trigger = 0-->
<!--                        //关闭定时器-->
<!--                        close_timer = 1-->
<!--                        echoTime()-->
<!--                    }-->

<!--                }-->
<!--            }-->
<!--        })-->
<!--    }-->

<!--    //ios12请求排名接口-->
<!--    function word_search_action_ios12(appstore_id, words) {-->
<!--        var str_r = words.join()-->
<!--        $.ajax({-->
<!--            url: "/cust/aso/ios12rank",-->
<!--            type: "post",-->
<!--            data: {-->
<!--                words: str_r,-->
<!--                appstore_id: appstore_id-->
<!--            },-->
<!--            success: function (res) {-->
<!--                var data = JSON.parse(res)-->
<!--                //console.log(data)-->
<!--                if (data.code == 0) {-->
<!--                    var list = data.data.words-->
<!--                    var list_key = Object.keys(list)-->
<!--                    if (list_key == 0) {-->
<!--                        //console.log("返回为空")-->
<!--                        return false;-->
<!--                    }-->
<!--                    $('#keyword_table .lay-keyword-ipt').each(function () {-->
<!--                        var value = $(this).val()-->
<!--                        if ($.inArray(value, list_key) == -1) {-->
<!--//                            console.log('==该字符串无返回: ',value)-->
<!--                        } else {-->
<!--                            $(this).parent().siblings(".rank-ios12").find(".lay-rank-ipt-ios12").val(list[value].r)-->
<!--                            $(this).parent().siblings(".heat").text(list[value].hot)-->
<!--                            $(this).parent().siblings(".rank").text(list[value].r11)-->
<!--                        }-->

<!--                    })-->

<!--                }-->
<!--            }-->
<!--        })-->
<!--    }-->

<!--    //要发送的词-->
<!--    function word_register_action(words) {-->

<!--        //发送词-->
<!--        var data = ''-->
<!--        var length = Object.keys(words).length-->

<!--        for (var i = 0; i < length; i++) {-->
<!--            if (i < length - 1) {-->
<!--                data += words[i]["word"] + ','-->
<!--            } else {-->
<!--                data += words[i]["word"]-->
<!--            }-->
<!--        }-->

<!--        word_commit(data);-->
<!--    }-->

<!--    //发送词的接口-->
<!--    function word_commit(data) {-->
<!--        $.ajax({-->
<!--            url: "/cust/aso/submitWords",-->
<!--            type: "post",-->
<!--            data: {-->
<!--                words: data-->
<!--            },-->
<!--            success: function (res) {-->
<!--                var data = JSON.parse(res)-->
<!--                if (data.code != 0) {-->
<!--                    //console.log('[Error]: wrords send wrong !')-->
<!--                }-->

<!--            }-->
<!--        })-->
<!--    }-->

<!--    //规则判断 封装-->
<!--    function text_parse() {-->
<!--        var textarea_val = $(".layui-textarea").val().trim().replace(/，/g, ",")-->
<!--        var keywordarr = textarea_val.split("\n")-->
<!--        var keywords = []-->
<!--        var word_tmp = []-->
<!--        var keystr = []-->
<!--        var res = []-->
<!--        var timeScreen = $('input[name="timeScreen"]:checked').val();-->
<!--        if (keywordarr != "") {-->
<!--            for (var z = 0; z < keywordarr.length; z++) {-->
<!--                //先剔除斜线-->
<!--                keywordarr[z] = keywordarr[z].replace(/\s*\/\/\*\*.*\*\*/g, '');-->
<!--                if (keywordarr[z] == '') {-->
<!--                    continue;-->
<!--                }-->
<!--                var keyandnum_arr = keywordarr[z].split(',');-->
<!--                //-->
<!--                var word = $.trim(keyandnum_arr[0])-->
<!--                var num = $.trim(keyandnum_arr[1])-->
<!--                var starttime = keyandnum_arr[2]-->
<!--                var endtime = keyandnum_arr[3]-->
<!--                if (keyandnum_arr.length == 1) {-->
<!--                    keystr.push({'str': keywordarr[z], 'status': '1'})-->
<!--                    continue;-->
<!--                } else {-->
<!--                    if (!isRealNum(num)) {-->
<!--                        keystr.push({'str': keywordarr[z], 'status': '01'})-->
<!--                        continue;-->
<!--                    }-->
<!--                    if ((timeScreen == 0 && keyandnum_arr.length > 2) || (timeScreen == 1 && keyandnum_arr.length > 4)) {-->
<!--                        keystr.push({'str': keywordarr[z], 'status': '2'})-->
<!--                        continue;-->
<!--                    }-->
<!--                    if ((timeScreen == 1 && !starttime) || (timeScreen == 1 && !endtime)) {-->
<!--                        keystr.push({'str': keywordarr[z], 'status': '1'})-->
<!--                        continue;-->
<!--                    }-->
<!--                }-->
<!--                if ($.inArray(word, word_added_table) != -1 || $.inArray(word, word_tmp) != -1) {-->
<!--                    keystr.push({'str': keywordarr[z], 'status': '02'})-->
<!--                    continue;-->
<!--                }-->
<!--                word_tmp.push(word)-->
<!--                keywords.push({'word': word, 'num': num, 'starttime': starttime, 'endtime': endtime})-->
<!--                keystr.push({'str': keywordarr[z], 'status': '0'})//正常值-->
<!--            }-->
<!--        }-->
<!--        res = {'word': keywords, 'str': keystr}-->
<!--        return res;-->
<!--    }-->

<!--    //不符合规则的显示封装-->
<!--    function text_create(arr) {-->
<!--        var text_str = ''-->
<!--        for (var i = 0; i < arr.length; i++) {-->
<!--            if (arr[i]['status'] == '0') {-->
<!--                text_str += arr[i]['str'] + '\n'-->
<!--            } else if (arr[i]['status'] == '1') {-->
<!--                text_str += arr[i]['str'] + '\t//**缺失项**' + '\n'-->
<!--            } else if (arr[i]['status'] == '01') {-->
<!--                text_str += arr[i]['str'] + '\t//**第二项不是数字**' + '\n'-->
<!--            } else if (arr[i]['status'] == '02') {-->
<!--                text_str += arr[i]['str'] + '\t//**重复项**' + '\n'-->
<!--            } else {-->
<!--                text_str += arr[i]['str'] + '\t//**参数过多**' + '\n'-->
<!--            }-->
<!--        }-->

<!--        return text_str;-->
<!--    }-->

<!--    //生成关键词表格的封装 - 针对点击添加-->
<!--    function create_table(keywordarr) {-->
<!--        for (var i = 0; i < keywordarr.length; i++) {-->
<!--            var item = keywordarr[i]-->
<!--            var keyword_table = document.getElementById("keyword_table")-->
<!--            var newtr = document.createElement("tr");-->
<!--            word_added_table.push(item['word']);-->
<!--            var check_box;-->
<!--            if (kwdspeedall == 1) {-->
<!--                check_box = '<input type="checkbox" name="kwdspeed" value="1" lay-skin="primary" checked>'-->
<!--            } else {-->
<!--                check_box = '<input type="checkbox" name="kwdspeed" value="1" lay-skin="primary">'-->
<!--            }-->
<!--            var laypretime;-->
<!--            if (timeScreen == 0) {-->
<!--                laypretime = '<td class="lay-starttime" style="display:none"><input type="text" class="layui-input lay-input-show lay-starttime-ipt" /></td>'-->
<!--                    + '<td class="lay-endtime" style="display:none"><input type="text" class="layui-input lay-input-show lay-endtime-ipt" /></td>'-->
<!--            } else {-->
<!--                laypretime = '<td class="lay-starttime"><input type="text" value="' + item['starttime'] + '" class="layui-input lay-input-show lay-starttime-ipt" /></td>'-->
<!--                    + '<td class="lay-endtime"><input type="text" value="' + item['endtime'] + '" class="layui-input lay-input-show lay-endtime-ipt" /></td>'-->
<!--            }-->
<!--            if (iosnum == "1") {-->
<!--                newtr.innerHTML = '<td><input type="text" need="1" ready="1" value="' + item['word'] + '" class="layui-input lay-input-show lay-keyword-ipt" disabled style="border:none"/></td>'-->
<!--                    + '<td class="heat">-</td>'-->
<!--                    + '<td class="rank" style="display:none">-</td>'-->
<!--                    + '<td class="rank-ios12" style="display:none"><input type="text" class="layui-input lay-rank-ipt-ios12" value="-" /></td>'-->
<!--                    + '<td class="lay-shiji-num"><input type="number" value="' + item['num'] + '" class="layui-input lay-input-show lay-launch-ipt" min="0"/></td>'-->
<!--                    + laypretime-->
<!--                    + '<td>'-->
<!--                    + check_box-->
<!--                    + '</td>'-->
<!--                    + '<td>'-->
<!--                    + '<div class="layui-btn-container">'-->
<!--                    + '<button class="layui-btn layui-btn-normal lay-delete-keyword" type="button">删除</button></div>'-->
<!--                    + '</td>'-->
<!--            } else if (iosnum == "2") {-->
<!--                var ios12td;-->
<!--                if (edit_ios12) {-->
<!--                    ios12td = '<td class="rank-ios12"><input type="text" class="layui-input lay-rank-ipt-ios12" value="-" /></td>'-->
<!--                } else {-->
<!--                    ios12td = '<td class="rank-ios12"><input type="text" class="layui-input lay-rank-ipt-ios12" value="-" disabled style="border:none"/></td>'-->
<!--                }-->
<!--                newtr.innerHTML = '<td><input type="text" need="1" ready="1" value="' + item['word'] + '" class="layui-input lay-input-show lay-keyword-ipt" disabled style="border:none"/></td>'-->
<!--                    + '<td class="heat">-</td>'-->
<!--                    + '<td class="rank" style="display:none">-</td>'-->
<!--                    + ios12td-->
<!--                    + '<td class="lay-shiji-num"><input type="number" value="' + item['num'] + '" class="layui-input lay-input-show lay-launch-ipt" min="0"/></td>'-->
<!--                    + laypretime-->
<!--                    + '<td>'-->
<!--                    + check_box-->
<!--                    + '</td>'-->
<!--                    + '<td>'-->
<!--                    + '<div class="layui-btn-container">'-->
<!--                    + '<button class="layui-btn layui-btn-normal lay-delete-keyword" type="button">删除</button></div>'-->
<!--                    + '</td>'-->
<!--            } else {-->
<!--                var ios12td;-->
<!--                if (edit_ios12) {-->
<!--                    ios12td = '<td class="rank-ios12"><input type="text" class="layui-input lay-rank-ipt-ios12" value="-" /></td>'-->
<!--                } else {-->
<!--                    ios12td = '<td class="rank-ios12"><input type="text" class="layui-input lay-rank-ipt-ios12" value="-" disabled style="border:none"/></td>'-->
<!--                }-->
<!--                newtr.innerHTML = '<td><input type="text" need="1" ready="1" value="' + item['word'] + '" class="layui-input lay-input-show lay-keyword-ipt" disabled style="border:none"/></td>'-->
<!--                    + '<td class="heat">-</td>'-->
<!--                    + '<td class="rank" style="display:none">-</td>'-->
<!--                    + ios12td-->
<!--                    + '<td class="lay-shiji-num"><input type="number" value="' + item['num'] + '" class="layui-input lay-input-show lay-launch-ipt" min="0"/></td>'-->
<!--                    + laypretime-->
<!--                    + '<td>'-->
<!--                    + check_box-->
<!--                    + '</td>'-->
<!--                    + '<td>'-->
<!--                    + '<div class="layui-btn-container">'-->
<!--                    + '<button class="layui-btn layui-btn-normal lay-delete-keyword" type="button">删除</button></div>'-->
<!--                    + '</td>'-->
<!--            }-->
<!--            keyword_table.appendChild(newtr);-->

<!--        }-->
<!--    }-->

<!--    //生成关键词表格的封装 - 针对excel上传的-->
<!--    function create_table_excel(keywordarr, laystarttime_arr, layendtime_arr) {-->
<!--        //console.log(keywordarr,laystarttime_arr,layendtime_arr)-->
<!--        for (var i = 0; i < keywordarr.length; i++) {-->
<!--            var item = keywordarr[i]-->
<!--            var keyword_table = document.getElementById("keyword_table")-->
<!--            var newtr = document.createElement("tr");-->
<!--            word_added_table.push(item['word']);-->
<!--            var check_box;-->
<!--            if (kwdspeedall == 1) {-->
<!--                check_box = '<input type="checkbox" name="kwdspeed" value="1" lay-skin="primary" checked>'-->
<!--            } else {-->
<!--                check_box = '<input type="checkbox" name="kwdspeed" value="1" lay-skin="primary">'-->
<!--            }-->
<!--            var laypretime;-->
<!--            if (timeScreen == 0) {-->
<!--                laypretime = '<td class="lay-starttime" style="display:none"><input type="text" class="layui-input lay-input-show lay-starttime-ipt" value="' + laystarttime_arr[i] + '" /></td>'-->
<!--                    + '<td class="lay-endtime" style="display:none"><input type="text" class="layui-input lay-input-show lay-endtime-ipt" value="' + layendtime_arr[i] + '" /></td>'-->
<!--            } else {-->
<!--                laypretime = '<td class="lay-starttime"><input type="text" class="layui-input lay-input-show lay-starttime-ipt" value="' + laystarttime_arr[i] + '" /></td>'-->
<!--                    + '<td class="lay-endtime"><input type="text" class="layui-input lay-input-show lay-endtime-ipt" value="' + layendtime_arr[i] + '" /></td>'-->
<!--            }-->
<!--            if (iosnum == "1") {-->
<!--                newtr.innerHTML = '<td><input type="text" need="1" ready="1" value="' + item['word'] + '" class="layui-input lay-input-show lay-keyword-ipt" disabled style="border:none"/></td>'-->
<!--                    + '<td class="heat">-</td>'-->
<!--                    + '<td class="rank" style="display:none">-</td>'-->
<!--                    + '<td class="rank-ios12" style="display:none"><input type="text" class="layui-input lay-rank-ipt-ios12" value="-" /></td>'-->
<!--                    + '<td class="lay-shiji-num"><input type="number" value="' + item['num'] + '" class="layui-input lay-input-show lay-launch-ipt" min="0"/></td>'-->
<!--                    + laypretime-->
<!--                    + '<td>'-->
<!--                    + check_box-->
<!--                    + '</td>'-->
<!--                    + '<td>'-->
<!--                    + '<div class="layui-btn-container">'-->
<!--                    + '<button class="layui-btn layui-btn-normal lay-delete-keyword" type="button">删除</button></div>'-->
<!--                    + '</td>'-->
<!--            } else if (iosnum == "2") {-->
<!--                var ios12td;-->
<!--                if (edit_ios12) {-->
<!--                    ios12td = '<td class="rank-ios12"><input type="text" class="layui-input lay-rank-ipt-ios12" value="-" /></td>'-->
<!--                } else {-->
<!--                    ios12td = '<td class="rank-ios12"><input type="text" class="layui-input lay-rank-ipt-ios12" value="-" disabled style="border:none"/></td>'-->
<!--                }-->
<!--                newtr.innerHTML = '<td><input type="text" need="1" ready="1" value="' + item['word'] + '" class="layui-input lay-input-show lay-keyword-ipt" disabled style="border:none"/></td>'-->
<!--                    + '<td class="heat">-</td>'-->
<!--                    + '<td class="rank" style="display:none">-</td>'-->
<!--                    + ios12td-->
<!--                    + '<td class="lay-shiji-num"><input type="number" value="' + item['num'] + '" class="layui-input lay-input-show lay-launch-ipt" min="0"/></td>'-->
<!--                    + laypretime-->
<!--                    + '<td>'-->
<!--                    + check_box-->
<!--                    + '</td>'-->
<!--                    + '<td>'-->
<!--                    + '<div class="layui-btn-container">'-->
<!--                    + '<button class="layui-btn layui-btn-normal lay-delete-keyword" type="button">删除</button></div>'-->
<!--                    + '</td>'-->
<!--            } else {-->
<!--                var ios12td;-->
<!--                if (edit_ios12) {-->
<!--                    ios12td = '<td class="rank-ios12"><input type="text" class="layui-input lay-rank-ipt-ios12" value="-" /></td>'-->
<!--                } else {-->
<!--                    ios12td = '<td class="rank-ios12"><input type="text" class="layui-input lay-rank-ipt-ios12" value="-" disabled style="border:none"/></td>'-->
<!--                }-->
<!--                newtr.innerHTML = '<td><input type="text" need="1" ready="1" value="' + item['word'] + '" class="layui-input lay-input-show lay-keyword-ipt" disabled style="border:none"/></td>'-->
<!--                    + '<td class="heat">-</td>'-->
<!--                    + '<td class="rank" style="display:none">-</td>'-->
<!--                    + ios12td-->
<!--                    + '<td class="lay-shiji-num"><input type="number" value="' + item['num'] + '" class="layui-input lay-input-show lay-launch-ipt" min="0"/></td>'-->
<!--                    + laypretime-->
<!--                    + '<td>'-->
<!--                    + check_box-->
<!--                    + '</td>'-->
<!--                    + '<td>'-->
<!--                    + '<div class="layui-btn-container">'-->
<!--                    + '<button class="layui-btn layui-btn-normal lay-delete-keyword" type="button">删除</button></div>'-->
<!--                    + '</td>'-->
<!--            }-->
<!--            keyword_table.appendChild(newtr);-->

<!--        }-->
<!--    }-->

<!--    function setButton(val) {-->
<!--        if (val == 0) {-->
<!--            $(".lay-refresh").hide()-->
<!--        } else {-->
<!--            $(".lay-refresh").show()-->
<!--        }-->

<!--    }-->

<!--    function checkRank() {-->
<!--        var rankarrs = []-->

<!--        $('#keyword_table input[need=0][ready=1]').each(function () {-->
<!--            var rank = $(this).parent().siblings('.rank').text()-->
<!--            if (rank == 0) {-->
<!--                var value = $(this).val()-->
<!--                rankarrs.push(value)-->
<!--            }-->

<!--        })-->

<!--        return rankarrs-->

<!--    }-->


<!--    // public function-->
<!--    function isRealNum(val) {-->
<!--        // isNaN()函数 把空串 空格 以及NUll 按照0来处理 所以先去除-->
<!--        if (val === "" || val == null) {-->
<!--            return false;-->
<!--        }-->
<!--        if (!isNaN(val)) {-->
<!--            return true;-->
<!--        } else {-->
<!--            return false;-->
<!--        }-->
<!--    }-->

<!--    function echoTime() {-->
<!--        var myDate = new Date();-->
<!--        //console.log(myDate.getHours() + ":" + myDate.getMinutes() + ":" + myDate.getSeconds() + "," + myDate.getMilliseconds())-->
<!--    }-->


<!--</script>-->
